"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[3969],{63043:(e,t,n)=>{n.d(t,{De:()=>o,E8:()=>r,Hl:()=>l,J4:()=>s});var a=n(77154);const s=async e=>{try{const t=localStorage.getItem("token");return await(0,a.A)({method:"get",url:"".concat(e),headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}})}catch(t){return console.log(t),t}},o=async(e,t)=>{try{return(await a.A.post(e,t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(n){throw console.error("Error in postFetchContent:",n),n}},r=async(e,t)=>{try{const n=localStorage.getItem("token"),s=await(0,a.A)({method:"put",url:"".concat(e),headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},data:t});if(s)return s}catch(s){var n;return 401===(null===s||void 0===s||null===(n=s.response)||void 0===n?void 0:n.status)?401:s.response}},l=async(e,t)=>{try{const n=localStorage.getItem("token"),s=await(0,a.A)({method:"post",url:"".concat(e),headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},data:t});if(s)return null===s||void 0===s?void 0:s.data}catch(s){var n;return 401===(null===s||void 0===s||null===(n=s.response)||void 0===n?void 0:n.status)?401:s}}},24721:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var a=n(65043),s=n(73216),o=n(93946),r=n(6145),l=n(3550),c=n(85961),i=n(63043),d=n(91036),u=(n(92342),n(84086)),h=n(70579);const p=()=>{let e="http://18.204.141.1:8090";"".concat(e,"/register"),(0,s.Zp)();const[t,n]=(0,a.useState)({email:"",password:""}),[p,m]=(0,a.useState)(!1),g=e=>{const{name:a,value:s}=e.target;n({...t,[a]:s})};return(0,h.jsxs)("div",{className:"bg-light min-vh-100 d-flex flex-row align-items-center",children:[p?(0,h.jsx)(u.A,{message:"Logging.."}):"",(0,h.jsx)(o.T5,{children:(0,h.jsx)(o.sK,{className:"justify-content-center",children:(0,h.jsx)(o.UF,{md:5,children:(0,h.jsx)(o.x$,{children:(0,h.jsx)(o.E$,{className:"p-4",children:(0,h.jsx)(o.W6,{children:(0,h.jsxs)(o.qI,{children:[(0,h.jsx)("h2",{children:"Login"}),(0,h.jsx)("p",{className:"text-medium-emphasis",children:"Sign In to your account"}),(0,h.jsxs)(o.BG,{className:"mb-3",children:[(0,h.jsx)(o.sk,{children:(0,h.jsx)(r.A,{icon:l.o})}),(0,h.jsx)(o.OG,{placeholder:"Email",autoComplete:"email",name:"email",value:t.email,onChange:g})]}),(0,h.jsxs)(o.BG,{className:"mb-4",children:[(0,h.jsx)(o.sk,{children:(0,h.jsx)(r.A,{icon:c.q})}),(0,h.jsx)(o.OG,{type:"password",placeholder:"Password",autoComplete:"current-password",name:"password",value:t.password,onChange:g})]}),(0,h.jsx)(o.sK,{children:(0,h.jsx)(o.UF,{xs:12,style:{textAlign:"center"},children:(0,h.jsx)(o.Q_,{color:"primary",className:"px-5",onClick:async n=>{try{var a,s;m(!0),n.preventDefault();const o=await(0,i.Hl)("".concat(e,"/api/user/login"),t);console.log("data",o),1==o.success&&(d.oR.success("Login successfully"),localStorage.setItem("token",o.token),localStorage.setItem("patientRecord",JSON.stringify(null===o||void 0===o?void 0:o.user)),setTimeout((()=>{window.location.reload(),m(!1)}),1e3)),!1===(null===o||void 0===o||null===(a=o.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.success)&&(m(!1),d.oR.warning("Invalid Credentials"))}catch(o){m(!1),d.oR.warning("Something went wrong"),console.log(o)}},children:"Login"})})})]})})})})})})}),(0,h.jsx)(d.N9,{})]})}},84086:(e,t,n)=>{n.d(t,{A:()=>r});n(65043);var a=n(76475),s=n(70579);const o=e=>({position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(255, 255, 255, 0.7)",display:e?"flex":"none",justifyContent:"center",alignItems:"center",zIndex:9999}),r=e=>{const t=e.message;return(0,s.jsx)("div",{style:o(e),children:(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,s.jsx)(a.A,{loading:e,color:"#36D7B7"}),t?(0,s.jsx)("p",{style:{margin:"auto"},children:t}):""]})})}}}]);
//# sourceMappingURL=3969.21a81a8f.chunk.js.map