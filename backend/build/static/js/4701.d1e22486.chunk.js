"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[4701],{84701:(e,t,s)=>{s.r(t),s.d(t,{default:()=>ae});var a=s(65043),l=s(63043),n=(s(62377),s(70579));const r=e=>{let{diagnosis:t,desc:s}=e;console.log("Guarv",t);const[l,r]=(0,a.useState)([]);return(0,a.useEffect)((()=>{t&&Array.isArray(t)&&r([...t].reverse())}),[t]),(0,n.jsx)("div",{style:{maxHeight:"300px",overflowY:"scroll",overflowX:"hidden",marginTop:"20px"},children:null===l||void 0===l?void 0:l.map((e=>{const t=null===e||void 0===e?void 0:e.date,s=new Date(t).toLocaleDateString("en-IN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(/\//g,"/");return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"row",children:[(0,n.jsxs)("div",{style:{margin:"1rem auto 1rem 1rem",overflow:"auto !important"},children:[(0,n.jsxs)("h5",{children:["Diagnose Date : ",s]}),(0,n.jsxs)("table",{className:"table",style:{width:"90%",border:"1px solid",fontFamily:"ui-rounded",borderRadius:"10px"},children:[(0,n.jsxs)("colgroup",{children:[(0,n.jsx)("col",{style:{width:"20%"}}),(0,n.jsx)("col",{style:{width:"20%"}}),(0,n.jsx)("col",{style:{width:"20%"}}),(0,n.jsx)("col",{style:{width:"20%"}}),(0,n.jsx)("col",{style:{width:"20%"}})]}),(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{scope:"col",style:{background:"#FBF295"},children:"Problems"}),(0,n.jsx)("th",{scope:"col",style:{background:"#FBF295"},children:"Test"}),(0,n.jsx)("th",{scope:"col",style:{background:"#FBF295"},children:"Test value"}),(0,n.jsx)("th",{scope:"col",style:{background:"#FBF295"},children:"Scale"}),(0,n.jsx)("th",{scope:"col",style:{background:"#FBF295"},children:"Scale value"})]})}),e.diagnosData.map((e=>{let{problem:t,scale:s,test:a,testInput:l,value:r}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("tbody",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{style:{fontWeight:"bolder"},children:t}),(0,n.jsx)("td",{style:{fontWeight:"bolder"},children:""===a?"-":a}),(0,n.jsx)("td",{style:{fontWeight:"bolder"},children:""===l?"-":l}),(0,n.jsx)("td",{style:{fontWeight:"bolder"},children:""===s?"-":s}),(0,n.jsx)("td",{style:{fontWeight:"bolder"},children:""===r?"-":r})]})})})}))]}),(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{style:{margin:"1rem auto 1rem 1rem"},children:(0,n.jsxs)("div",{className:"row",style:{marginTop:"1rem"},children:[(0,n.jsx)("div",{className:"col-md-2 d-flex align-items-center",children:(0,n.jsx)("h5",{children:"Notes:"})}),(0,n.jsx)("div",{className:"col-md-10 d-flex align-items-center",children:(0,n.jsx)("div",{className:"card",style:{width:"87%",padding:"1rem 2rem"},children:(0,n.jsx)("p",{style:{margin:"0"},children:""===e.desc?"-":e.desc})})})]})})})]}),(0,n.jsx)("hr",{})]})})}))})};var i=s(14182),o=s(66921),c=s(58390),d=s(98572),m=s(91036);s(92342);const h=e=>{var t;let{_id:s,getSearchByPatient:r,setIsAddNewDiagnosis:h,setIsDetailed:u}=e,x="http://18.204.141.1:8090",p=localStorage.getItem("patientRecord"),v=JSON.parse(p);const[j,g]=a.useState(null),[f,y]=(0,a.useState)({}),[b,N]=(0,a.useState)(""),[w,S]=(0,a.useState)({diagnosis:[],desc:""}),[C,A]=(0,a.useState)([]),[k,D]=(0,a.useState)([]),[P,R]=(0,a.useState)([]),[I,_]=(0,a.useState)([]);(0,a.useEffect)((()=>{E()}),[]);const E=async()=>{try{var e,t;const s=await(0,l.J4)("".concat(x,"/api/problem/").concat(null===v||void 0===v||null===(e=v.department_id)||void 0===e?void 0:e._id)),a=null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.data[0];if(a){const e=a.problemName.filter((e=>"problem"===e.type)).map((e=>e.name)),t=a.problemName.filter((e=>"test"===e.type)).map((e=>e.name)),s=a.problemName.filter((e=>"scale"===e.type)).map((e=>e.name));R(t),_(s),D(e)}}catch(s){console.error("Error fetching problems:",s)}};(0,a.useEffect)((()=>{f.desc&&S((e=>({...e,desc:f.desc})))}),[f]),(0,a.useEffect)((()=>{(async()=>{try{const e=await(0,l.J4)("".concat(x,"/api/patient/").concat(s));y(e.data.data)}catch(e){console.log(e)}})()}),[]);let[T,F]=(0,a.useState)(!1);const[M,B]=(0,a.useState)([{problem:"",test:"",testInput:"",scale:"",value:""}]),W=(e,t)=>{const{name:s,value:a}=t.target,l=[...M];l[e][s]=a,B(l)},L=()=>{B([...M,{problem:"",test:"",testInput:"",scale:"",value:""}])},H=e=>{const t=[...M];t.splice(e,1),B(t)};return(0,a.useEffect)((()=>{M.length>1?F(!0):F(!1)}),[H,L,W]),(0,n.jsxs)("div",{style:{margin:"1rem auto 1rem 1rem"},children:[(0,n.jsx)("div",{style:{margin:"1rem auto 1rem 0"},children:(0,n.jsxs)("h4",{children:["Diagnosis: (",null===v||void 0===v||null===(t=v.department_id)||void 0===t?void 0:t.departmentName,")"]})}),(0,n.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),1===M.length&&""===M[0].problem)return m.oR.warning("Please select at least one problem");for(const s of M){if(""!==s.test&&""===s.testInput)return void m.oR.warning("Please give input for selected test");if(""!==s.scale&&""===s.value)return void m.oR.warning("Please give input for selected scale");console.log("data",s)}try{const e={...w,diagnosis:[{diagnosData:M,date:Date(),desc:b}],nextApointmentDate:j};await(0,l.E8)("".concat(x,"/api/patient/update/").concat(s),e)&&(A([]),N(""),m.oR.success("Patient Updated Successfully",{autoClose:1e3}),setTimeout((()=>{h(!1),u(!0),B([{problem:"",test:"",testInput:"",scale:"",value:""}])}),2e3),r())}catch(t){console.log(t)}},children:[(0,n.jsxs)("form",{className:"mb-2",children:[M.map(((e,t)=>(0,n.jsxs)("div",{className:"row mt-1 mb-2",children:[(0,n.jsx)("div",{className:"col-md-2",children:(0,n.jsx)("label",{children:(0,n.jsxs)("select",{className:"form-control ",style:{width:"10rem",appearance:"auto",height:"38px"},name:"problem",value:e.problem,onChange:e=>W(t,e),children:[(0,n.jsx)("option",{value:"",children:"Select Problem"}),k.map(((e,t)=>(0,n.jsx)("option",{value:e,children:e},t)))]})})}),(0,n.jsx)("div",{className:"col-md-2",children:(0,n.jsx)("label",{children:(0,n.jsxs)("select",{className:"form-control ",style:{width:"10rem",appearance:"auto",height:"38px"},name:"test",value:e.test,onChange:e=>W(t,e),children:[(0,n.jsx)("option",{value:"",children:"Select Test"}),P.map(((e,t)=>(0,n.jsx)("option",{value:e,children:e},t)))]})})}),(0,n.jsx)("div",{className:"col-md-2",children:(0,n.jsx)("label",{children:(0,n.jsx)("input",{className:"form-control ",style:{width:"10rem"},placeholder:"Enter test Value",type:"text",name:"testInput",value:e.testInput,onChange:e=>W(t,e)})})}),(0,n.jsx)("div",{className:"col-md-2",children:(0,n.jsx)("label",{children:(0,n.jsxs)("select",{className:"form-control ",style:{width:"10rem",appearance:"auto",height:"38px"},name:"scale",value:e.scale,onChange:e=>W(t,e),children:[(0,n.jsx)("option",{value:"",children:"Select Scale"}),I.map(((e,t)=>(0,n.jsx)("option",{value:e,children:e},t)))]})})}),(0,n.jsx)("div",{className:"col-md-2",children:(0,n.jsx)("label",{children:(0,n.jsx)("input",{className:"form-control ",style:{width:"10rem",appearance:"auto"},placeholder:"Enter Scale Value",type:"text",name:"value",value:e.value,onChange:e=>W(t,e)})})}),(0,n.jsx)("div",{className:"col-md-2 d-flex justify-content-center",children:T&&(0,n.jsx)("button",{className:"btn btn-danger",type:"button",onClick:()=>H(t),children:"Remove"})})]},t))),(0,n.jsx)("div",{className:"d-flex justify-content-end",children:(0,n.jsx)("button",{className:"btn btn-primary me-4",type:"button",onClick:L,children:"Add More"})})]}),(0,n.jsx)("div",{children:(0,n.jsx)("textarea",{rows:4,className:"form-control col-12",placeholder:"Notes",name:"desc",value:b,onChange:e=>N(e.target.value)})}),(0,n.jsx)("div",{className:"d-flex mt-2",children:(0,n.jsx)("div",{className:"w-auto",children:(0,n.jsx)(c.$,{dateAdapter:o.R,children:(0,n.jsx)(i.j,{components:["DateTimePicker"],children:(0,n.jsx)(d.K,{label:"Next Appointment Date",value:j,onChange:e=>{g(e)}})})})})}),(0,n.jsxs)("div",{className:"text-end",children:[(0,n.jsx)("button",{type:"submit",className:"btn btn-primary mt-4",style:{width:"10rem"},children:"Submit"}),(0,n.jsx)("button",{type:"submit",className:"btn btn-danger mt-4 ms-2",style:{width:"10rem"},onClick:()=>(h(!1),void u(!0)),children:"Close"})]})]}),(0,n.jsx)(m.N9,{})]})},u=e=>{let{patientSearch:t,getSearchByPatient:s}=e;const[l,i]=(0,a.useState)(!1),[o,c]=(0,a.useState)(!1),[d,m]=(0,a.useState)(""),[u,x]=(0,a.useState)("");return(0,n.jsx)("div",{children:null===t||void 0===t?void 0:t.map((e=>{const{name:t,crn:a,phone:p,age:v,sex:j,diagnosis:g,_id:f,desc:y,nextApointmentDate:b}=e,N=d===f,w=u===f,S=new Date(b).toLocaleString("en-IN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(/\//g,"/");return(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{style:{marginTop:"2rem"},children:(0,n.jsx)("div",{className:"card",style:{width:"100%"},children:(0,n.jsxs)("div",{className:"card-body overflow-auto ",children:[(0,n.jsxs)("h5",{className:"card-title",children:["Patient CR No : ",a]}),(0,n.jsx)("h6",{className:"card-subtitle mt-2",children:(0,n.jsxs)("h5",{children:["Name : ",t]})}),(0,n.jsxs)("div",{style:{display:"flex",marginTop:"1rem"},children:[(0,n.jsxs)("span",{style:{display:"flex"},children:[(0,n.jsx)("h6",{children:"Phone No. \xa0"})," ",(0,n.jsx)("h6",{style:{fontWeight:"normal"},children:p})]}),(0,n.jsxs)("span",{style:{display:"flex",marginLeft:"2rem"},children:[(0,n.jsx)("h6",{children:"Age. \xa0"})," ",(0,n.jsx)("h6",{style:{fontWeight:"normal"},children:v})]}),(0,n.jsxs)("span",{style:{display:"flex",marginLeft:"2rem"},children:[(0,n.jsx)("h6",{children:" Sex. \xa0"})," ",(0,n.jsx)("h6",{style:{fontWeight:"normal"},children:j})]}),(0,n.jsxs)("span",{style:{display:"flex",marginLeft:"2rem"},children:[(0,n.jsx)("h6",{children:"Next Appointment Date. \xa0"})," ",(0,n.jsx)("h6",{style:{fontWeight:"normal"},children:S})]})]}),(0,n.jsxs)("div",{className:"text-end",children:[(0,n.jsx)("button",{type:"button",className:"btn btn-success",onClick:()=>{return e=f,m((t=>t===e?"":e)),x(""),void c(!0);var e},children:"Show Details"}),(0,n.jsx)("button",{type:"button",className:"btn btn-warning",style:{marginLeft:"2rem"},onClick:()=>{return x(e=f),m(e),i(!0),void c(!1);var e},children:"Add New Diagnosis"})]}),N&&o&&(0,n.jsx)("div",{children:(0,n.jsx)(r,{diagnosis:g,desc:y})}),w&&l&&(0,n.jsx)("div",{children:(0,n.jsx)(h,{_id:f,getSearchByPatient:s,setIsAddNewDiagnosis:i,setIsDetailed:c})})]})})})},f)}))})};s(83910);var x=s(57528),p=s(98587),v=s(58168),j=s(58387),g=s(68606),f=s(83290),y=s(6803),b=s(72876),N=s(34535),w=s(57056),S=s(32400);function C(e){return(0,S.Ay)("MuiCircularProgress",e)}(0,w.A)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var A,k,D,P;const R=["className","color","disableShrink","size","style","thickness","value","variant"];let I,_,E,T;const F=44,M=(0,f.i7)(I||(I=A||(A=(0,x.A)(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),B=(0,f.i7)(_||(_=k||(k=(0,x.A)(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),W=(0,N.Ay)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,t[s.variant],t["color".concat((0,y.A)(s.color))]]}})((e=>{let{ownerState:t,theme:s}=e;return(0,v.A)({display:"inline-block"},"determinate"===t.variant&&{transition:s.transitions.create("transform")},"inherit"!==t.color&&{color:(s.vars||s).palette[t.color].main})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&(0,f.AH)(E||(E=D||(D=(0,x.A)(["\n      animation: "," 1.4s linear infinite;\n    "]))),M)})),L=(0,N.Ay)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),H=(0,N.Ay)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.circle,t["circle".concat((0,y.A)(s.variant))],s.disableShrink&&t.circleDisableShrink]}})((e=>{let{ownerState:t,theme:s}=e;return(0,v.A)({stroke:"currentColor"},"determinate"===t.variant&&{transition:s.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink&&(0,f.AH)(T||(T=P||(P=(0,x.A)(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),B)})),J=a.forwardRef((function(e,t){const s=(0,b.A)({props:e,name:"MuiCircularProgress"}),{className:a,color:l="primary",disableShrink:r=!1,size:i=40,style:o,thickness:c=3.6,value:d=0,variant:m="indeterminate"}=s,h=(0,p.A)(s,R),u=(0,v.A)({},s,{color:l,disableShrink:r,size:i,thickness:c,value:d,variant:m}),x=(e=>{const{classes:t,variant:s,color:a,disableShrink:l}=e,n={root:["root",s,"color".concat((0,y.A)(a))],svg:["svg"],circle:["circle","circle".concat((0,y.A)(s)),l&&"circleDisableShrink"]};return(0,g.A)(n,C,t)})(u),f={},N={},w={};if("determinate"===m){const e=2*Math.PI*((F-c)/2);f.strokeDasharray=e.toFixed(3),w["aria-valuenow"]=Math.round(d),f.strokeDashoffset="".concat(((100-d)/100*e).toFixed(3),"px"),N.transform="rotate(-90deg)"}return(0,n.jsx)(W,(0,v.A)({className:(0,j.A)(x.root,a),style:(0,v.A)({width:i,height:i},N,o),ownerState:u,ref:t,role:"progressbar"},w,h,{children:(0,n.jsx)(L,{className:x.svg,ownerState:u,viewBox:"".concat(22," ").concat(22," ").concat(F," ").concat(F),children:(0,n.jsx)(H,{className:x.circle,style:f,ownerState:u,cx:F,cy:F,r:(F-c)/2,fill:"none",strokeWidth:c})})}))}));var z=s(54984),V=s(58812),K=s(18698),O=s(45527);const $=["className","component"];var q=s(25430),U=s(88279),G=s(13375);const X=(0,w.A)("MuiBox",["root"]),Y=(0,U.A)(),Q=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:s,defaultClassName:l="MuiBox-root",generateClassName:r}=e,i=(0,z.default)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(V.A);return a.forwardRef((function(e,a){const o=(0,O.A)(s),c=(0,K.A)(e),{className:d,component:m="div"}=c,h=(0,p.A)(c,$);return(0,n.jsx)(i,(0,v.A)({as:m,ref:a,className:(0,j.A)(d,r?r(l):l),theme:t&&o[t]||o},h))}))}({themeId:G.A,defaultTheme:Y,defaultClassName:X.root,generateClassName:q.A.generate}),Z=Q;function ee(){return(0,n.jsx)(Z,{style:{width:"100%",height:"20vh",lineHeight:"20vh",textAlign:"center",backgroundColor:"white",marginTop:"10px"},children:(0,n.jsx)(J,{})})}const te=()=>(0,n.jsx)(Z,{style:{width:"100%",height:"100%",lineHeight:"20vh",textAlign:"center",marginTop:"10px"},children:(0,n.jsx)(J,{})});var se=s(73216);const ae=()=>{var e,t;const s=(0,se.zy)();console.log("location",Number(null===s||void 0===s||null===(e=s.state)||void 0===e?void 0:e.crn));let r="http://18.204.141.1:8090",h=localStorage.getItem("patientRecord"),x=JSON.parse(h);const[p,v]=(0,a.useState)(!1),[j,g]=(0,a.useState)(!1),[f,y]=(0,a.useState)(!1),[b,N]=a.useState(null),[w,S]=(0,a.useState)(!1),[C,A]=(0,a.useState)(""),[k,D]=(0,a.useState)([]),[P,R]=(0,a.useState)([]),[I,_]=(0,a.useState)([]),[E,T]=(0,a.useState)([]),[F,M]=(0,a.useState)(""),[B,W]=(0,a.useState)({name:"",age:"",sex:"male",phone:"",crn:"",diagnosis:[],desc:"",doctor_id:null===x||void 0===x?void 0:x._id});console.log("value date",b),(0,a.useEffect)((()=>{A(""),L()}),[]);const L=async()=>{try{var e,t;const s=await(0,l.J4)("".concat(r,"/api/problem/").concat(null===x||void 0===x||null===(e=x.department_id)||void 0===e?void 0:e._id)),a=null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.data[0];if(a){const e=a.problemName.filter((e=>"problem"===e.type)).map((e=>e.name)),t=a.problemName.filter((e=>"test"===e.type)).map((e=>e.name)),s=a.problemName.filter((e=>"scale"===e.type)).map((e=>e.name));_(t),T(s),R(e)}}catch(s){console.error("Error fetching problems:",s)}};console.log("problems",P);const H=async()=>{try{var e,t;let a=C||(null===s||void 0===s||null===(e=s.state)||void 0===e?void 0:e.crn);if(0===(null===a||void 0===a?void 0:a.length))return;g(!0);const n=await(0,l.J4)("".concat(r,"/api/patient/").concat(a));console.log("searchData",n),D(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.data),setTimeout((()=>{g(!1)}),3e3)}catch(a){console.log(a)}};(0,a.useEffect)((()=>{!0===p&&H()}),[p]);let[J,z]=(0,a.useState)(new Date);(0,a.useEffect)((()=>{var e,t;null!==s&&void 0!==s&&null!==(e=s.state)&&void 0!==e&&e.crn&&(A(null===s||void 0===s||null===(t=s.state)||void 0===t?void 0:t.crn),H())}),[s]);let[V,K]=(0,a.useState)(!1);const[O,$]=(0,a.useState)([{problem:"",test:"",testInput:"",scale:"",value:""}]),q=(e,t)=>{const{name:s,value:a}=t.target,l=[...O];l[e][s]=a,$(l)},U=()=>{$([...O,{problem:"",test:"",testInput:"",scale:"",value:""}])},G=e=>{const t=[...O];t.splice(e,1),$(t)};return(0,a.useEffect)((()=>{O.length>1?K(!0):K(!1)}),[G,U,q]),(0,a.useEffect)((()=>{console.log("Updated inputs:",O)}),[O]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:[w||f?"":(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{style:{fontWeight:"bolder"},children:"Search Patient"}),(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,n.jsxs)("div",{className:"d-flex",children:[(0,n.jsx)("input",{style:{paddingLeft:"5px"},className:"form-control",placeholder:"CR no. or Phone no.",type:"text",name:"search",value:C,onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),H())},onChange:e=>A(e.target.value)}),(0,n.jsx)("button",{className:"btn btn-primary",style:{marginLeft:"1rem",borderRadius:"5px"},type:"button",onClick:H,children:"Search"}),null!==C&&void 0!==C&&C.length?(0,n.jsx)("button",{className:"btn btn-danger text-light",style:{marginLeft:"1rem",borderRadius:"5px"},type:"button",onClick:()=>{try{A(""),D([])}catch(e){console.log(e)}},children:"Clear"}):""]}),(0,n.jsx)("div",{children:(0,n.jsx)("button",{style:{marginLeft:"1rem",borderRadius:"5px"},type:"button",onClick:()=>S(!0),className:"btn btn-outline-dark",children:"Add a Patient"})})]})]}),null===k||void 0===k||!k.length||w||f?(0,n.jsx)("div",{children:w?(0,n.jsxs)("div",{style:{marginTop:"1rem"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("hr",{}),(0,n.jsx)("h4",{children:"Patient Details"}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-md-4",children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"col-sm-4 mt-2 patientNamediv",children:["Name ",(0,n.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,n.jsx)("div",{className:"col-sm-8",children:(0,n.jsx)("input",{type:"text",className:"form-control ",name:"name",value:B.name,onChange:e=>W({...B,name:e.target.value})})})]})}),(0,n.jsx)("div",{className:"col-md-4",children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"col-sm-4 mt-2 patientNamediv",children:["Age ",(0,n.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,n.jsx)("div",{className:"col-sm-8",children:(0,n.jsx)("input",{type:"number",className:"form-control ",name:"age",value:B.age,onChange:e=>W({...B,age:e.target.value})})})]})}),(0,n.jsx)("div",{className:"col-md-4",children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"col-sm-4 mt-2 patientNamediv",children:["Sex ",(0,n.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,n.jsx)("div",{className:"col-sm-8",children:(0,n.jsxs)("select",{className:"form-control ",name:"sex",value:B.sex,onChange:e=>W({...B,sex:e.target.value}),children:[(0,n.jsx)("option",{value:"male",children:"Male"}),(0,n.jsx)("option",{value:"female",children:"Female"}),(0,n.jsx)("option",{value:"other",children:"Other"})]})})]})})]}),(0,n.jsxs)("div",{className:"row ",children:[(0,n.jsx)("div",{className:"col-md-4 mt-4",children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"col-lg-4 patientNamediv",children:["Phone No ",(0,n.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,n.jsx)("div",{className:" col-lg-8 col-sm-8",children:(0,n.jsx)("input",{className:"form-control ",type:"text",name:"phone",value:B.phone,onChange:e=>{(/^\d*$/.test(e.target.value)||""===e.target.value)&&W({...B,phone:e.target.value})},required:!0})})]})}),(0,n.jsx)("div",{className:"col-md-4 mt-4",children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("label",{className:"col-sm-4  patientNamediv",children:["CR No ",(0,n.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,n.jsx)("div",{className:"col-sm-8",children:(0,n.jsx)("input",{className:"form-control ",type:"test",name:"crn",value:B.crn,onChange:e=>W({...B,crn:e.target.value}),required:!0})})]})})]})]}),(0,n.jsx)("hr",{}),(0,n.jsx)("div",{style:{margin:"1rem auto 1rem 0"},children:(0,n.jsxs)("h4",{children:["Diagnosis: (",null===x||void 0===x||null===(t=x.department_id)||void 0===t?void 0:t.departmentName,")"]})}),(0,n.jsx)("div",{children:(0,n.jsxs)("form",{className:"mb-3",children:[O.map(((e,t)=>(0,n.jsxs)("div",{className:"row mt-1 mb-2",children:[(0,n.jsx)("div",{className:"col-md-2",children:(0,n.jsx)("label",{children:(0,n.jsxs)("select",{className:"form-control ",style:{width:"10rem",appearance:"auto",height:"38px"},name:"problem",value:e.problem,onChange:e=>q(t,e),children:[(0,n.jsx)("option",{value:"",children:"Select Problem"}),P.map(((e,t)=>(0,n.jsx)("option",{value:e,children:e},t)))]})})}),(0,n.jsx)("div",{className:"col-md-2",children:(0,n.jsx)("label",{children:(0,n.jsxs)("select",{className:"form-control ",style:{width:"10rem",appearance:"auto",height:"38px"},name:"test",value:e.test,onChange:e=>q(t,e),children:[(0,n.jsx)("option",{value:"",children:"Select Test"}),I.map(((e,t)=>(0,n.jsx)("option",{value:e,children:e},t)))]})})}),(0,n.jsx)("div",{className:"col-md-2",children:(0,n.jsx)("label",{children:(0,n.jsx)("input",{className:"form-control ",style:{width:"10rem"},placeholder:"Enter test Value",type:"text",name:"testInput",value:e.testInput,onChange:e=>q(t,e)})})}),(0,n.jsx)("div",{className:"col-md-2",children:(0,n.jsx)("label",{children:(0,n.jsxs)("select",{className:"form-control ",style:{width:"10rem",appearance:"auto",height:"38px"},name:"scale",value:e.scale,onChange:e=>q(t,e),children:[(0,n.jsx)("option",{value:"",children:"Select Scale"}),E.map(((e,t)=>(0,n.jsx)("option",{value:e,children:e},t)))]})})}),(0,n.jsx)("div",{className:"col-md-2",children:(0,n.jsx)("label",{children:(0,n.jsx)("input",{className:"form-control ",style:{width:"10rem",appearance:"auto"},placeholder:"Enter Scale Value",type:"text",name:"value",value:e.value,onChange:e=>q(t,e)})})}),(0,n.jsx)("div",{className:"col-md-2 d-flex justify-content-center",children:V&&(0,n.jsx)("button",{className:"btn btn-danger",type:"button",onClick:()=>G(t),children:"Remove"})})]},t))),(0,n.jsx)("div",{className:"d-flex justify-content-end",children:(0,n.jsx)("button",{className:"btn btn-primary me-4",type:"button",onClick:U,children:"Add More"})})]})}),(0,n.jsx)("div",{children:(0,n.jsx)("textarea",{rows:4,className:"form-control col-12",placeholder:"Notes",name:"desc",value:F,onChange:e=>M(e.target.value)})})]}),(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:"d-flex mt-2",children:(0,n.jsx)("div",{className:"w-auto",children:(0,n.jsx)(c.$,{dateAdapter:o.R,children:(0,n.jsx)(i.j,{components:["DateTimePicker"],children:(0,n.jsx)(d.K,{label:"Next Appointment Date",value:b,onChange:e=>{N(e)}})})})})})}),(0,n.jsxs)("div",{className:"text-end m-4",children:[(0,n.jsx)("button",{className:"btn btn-info mt-3 mx-2 w-auto",onClick:async()=>{if(A(""),!B.name||!B.age||!B.sex||!B.phone||!B.crn)return m.oR.warning("Please fill all Patient details");if(1===O.length&&""===O[0].problem)return m.oR.warning("Please select at least one problem");for(const a of O){if(""!==a.test&&""===a.testInput)return void m.oR.warning("Please give input for selected test");if(""!==a.scale&&""===a.value)return void m.oR.warning("Please give input for selected scale");console.log("data",a)}const e={...B,diagnosis:[{diagnosData:O,date:Date(),desc:F}],nextApointmentDate:b};try{var t;const s=await(0,l.Hl)("".concat(r,"/api/patient/create"),e);!0===s.success&&(m.oR.success("Patient Created Successfully",{autoClose:2e3}),y(!0),S(!1),setTimeout((()=>{v(!0),y(!1),M(""),N(null),$([{problem:"",test:"",testInput:"",scale:"",value:""}])}),2e3),W({name:"",age:"",sex:"male",phone:"",crn:"",diagnosis:[],desc:"",doctor_id:null===x||void 0===x?void 0:x._id})),"phone Already Exists"==s.message&&m.oR.warning("phone Already Exists"),"Crn Already Exists"==s.message&&m.oR.warning("Crn Already Exists"),console.log("data",s),A(null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.crn)}catch(s){m.oR.warning("Something went wrong"),console.error("Error submitting data:",s)}},children:"Submit"}),(0,n.jsx)("button",{className:"btn btn-info mt-3 w-auto",onClick:()=>S(!1),children:"Close"})]})]}):(0,n.jsx)("div",{children:f?"":(0,n.jsx)("div",{style:{width:"100%",height:"20vh",lineHeight:"20vh",textAlign:"center",backgroundColor:"white",marginTop:"10px"},children:j?(0,n.jsx)(ee,{}):"No Data"})})}):(0,n.jsx)(u,{patientSearch:k,setData:S,getSearchByPatient:H})]}),f?(0,n.jsx)(te,{}):"",(0,n.jsx)(m.N9,{})]})}},62377:()=>{}}]);
//# sourceMappingURL=4701.d1e22486.chunk.js.map