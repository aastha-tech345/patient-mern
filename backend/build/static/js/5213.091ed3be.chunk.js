"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[5213],{63043:(e,a,t)=>{t.d(a,{De:()=>o,E8:()=>l,Hl:()=>r,J4:()=>n});var s=t(77154);const n=async e=>{try{const a=localStorage.getItem("token");return await(0,s.A)({method:"get",url:"".concat(e),headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"}})}catch(a){return console.log(a),a}},o=async(e,a)=>{try{return(await s.A.post(e,a,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(t){throw console.error("Error in postFetchContent:",t),t}},l=async(e,a)=>{try{const t=localStorage.getItem("token"),n=await(0,s.A)({method:"put",url:"".concat(e),headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},data:a});if(n)return n}catch(n){var t;return 401===(null===n||void 0===n||null===(t=n.response)||void 0===t?void 0:t.status)?401:n.response}},r=async(e,a)=>{try{const t=localStorage.getItem("token"),n=await(0,s.A)({method:"post",url:"".concat(e),headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},data:a});if(n)return null===n||void 0===n?void 0:n.data}catch(n){var t;return 401===(null===n||void 0===n||null===(t=n.response)||void 0===t?void 0:t.status)?401:n}}},83181:(e,a,t)=>{t.r(a),t.d(a,{default:()=>p});var s=t(65043),n=t(93946),o=t(6145),l=t(3550),r=t(85961),c=t(19128),i=t(63043),d=t(73216),u=t(91036),m=(t(92342),t(84086)),h=t(70579);const p=()=>{const e=(0,d.Zp)(),a="http://18.204.141.1:8090",[t,p]=(0,s.useState)([]),[x,v]=s.useState({name:"",email:"",password:"",department_id:""}),[g,j]=(0,s.useState)(!1),y=e=>{const{name:a,value:t}=e.target;v({...x,[a]:t})};return(0,s.useEffect)((()=>{(async()=>{try{const e=await(0,i.J4)("".concat(a,"/api/department/"));console.log("res",e.data.data),p(e.data.data)}catch(e){console.log("error")}})()}),[]),(0,h.jsxs)("div",{className:"bg-light min-vh-100 d-flex flex-row align-items-center",children:[g?(0,h.jsx)(m.A,{message:"Loading..."}):"",(0,h.jsx)(n.T5,{children:(0,h.jsx)(n.sK,{className:"justify-content-center",children:(0,h.jsx)(n.UF,{md:9,lg:7,xl:6,children:(0,h.jsx)(n.E$,{className:"mx-4",children:(0,h.jsx)(n.W6,{className:"p-4",children:(0,h.jsxs)(n.qI,{children:[(0,h.jsx)("h1",{children:"Register"}),(0,h.jsx)("p",{className:"text-medium-emphasis",children:"Create your account"}),(0,h.jsxs)(n.BG,{className:"mb-3",children:[(0,h.jsx)(n.sk,{children:(0,h.jsx)(o.A,{icon:l.o})}),(0,h.jsx)(n.OG,{placeholder:"Full Name",autoComplete:"username",name:"name",value:x.name,onChange:y})]}),(0,h.jsxs)(n.BG,{className:"mb-3",children:[(0,h.jsx)(n.sk,{children:"@"}),(0,h.jsx)(n.OG,{placeholder:"Email",autoComplete:"email",name:"email",value:x.email,onChange:y})]}),(0,h.jsxs)(n.BG,{className:"mb-3",children:[(0,h.jsx)(n.sk,{children:(0,h.jsx)(o.A,{icon:r.q})}),(0,h.jsx)(n.OG,{type:"password",placeholder:"Password",autoComplete:"new-password",name:"password",value:x.password,onChange:y})]}),(0,h.jsxs)(n.BG,{className:"mb-3",children:[(0,h.jsx)(n.sk,{children:(0,h.jsx)(c.nwe,{})}),(0,h.jsxs)("select",{className:"form-select",name:"department_id",value:x.department_id,onChange:y,children:[(0,h.jsx)("option",{value:"",children:"Select Department"}),null===t||void 0===t?void 0:t.map((e=>(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.departmentName})})))]})]}),(0,h.jsx)("div",{className:"d-grid",children:(0,h.jsx)(n.Q_,{color:"success",onClick:async t=>{try{var s,n,o,l;j(!0),t.preventDefault(),console.log("data",x);const d=await(0,i.Hl)("".concat(a,"/api/user/create"),x);var r,c;if(console.log("user creation",null===d||void 0===d||null===(s=d.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.success),!1===(null===d||void 0===d||null===(o=d.response)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.success))return j(!1),u.oR.warning(null===d||void 0===d||null===(r=d.response)||void 0===r||null===(c=r.data)||void 0===c?void 0:c.message);!0===d.success?(u.oR.success("Doctor Created Successfully"),setTimeout((()=>{j(!1),e("/")}),2e3)):(j(!1),u.oR.warning("Something went wrong"))}catch(d){j(!1),console.log(d)}},children:"Create Account"})}),(0,h.jsx)("div",{children:(0,h.jsxs)("p",{style:{display:"flex",marginTop:"1rem"},children:["To Loggin Click! \xa0",(0,h.jsx)("p",{style:{cursor:"pointer",color:"blue"},onClick:()=>{e("/")},children:"Signin"})]})})]})})})})})}),(0,h.jsx)(u.N9,{})]})}},84086:(e,a,t)=>{t.d(a,{A:()=>l});t(65043);var s=t(76475),n=t(70579);const o=e=>({position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(255, 255, 255, 0.7)",display:e?"flex":"none",justifyContent:"center",alignItems:"center",zIndex:9999}),l=e=>{const a=e.message;return(0,n.jsx)("div",{style:o(e),children:(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,n.jsx)(s.A,{loading:e,color:"#36D7B7"}),a?(0,n.jsx)("p",{style:{margin:"auto"},children:a}):""]})})}}}]);
//# sourceMappingURL=5213.091ed3be.chunk.js.map