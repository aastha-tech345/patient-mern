"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[4701],{84701:(e,a,s)=>{s.r(a),s.d(a,{default:()=>te});var t=s(65043),l=s(63043),n=(s(62377),s(70579));const r=e=>{let{diagnosis:a,desc:s}=e;console.log("dia",a);const[l,r]=(0,t.useState)([]);return(0,t.useEffect)((()=>{a&&Array.isArray(a)&&r([...a].reverse())}),[a]),(0,n.jsx)("div",{style:{maxHeight:"300px",overflowY:"scroll",overflowX:"hidden",marginTop:"20px"},children:null===l||void 0===l?void 0:l.map((e=>{const a=null===e||void 0===e?void 0:e.date,s=new Date(a).toLocaleDateString("en-IN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(/\//g,"/");return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"row",children:[(0,n.jsxs)("div",{style:{margin:"1rem auto 1rem 1rem",overflow:"auto !important"},children:[(0,n.jsxs)("h5",{children:["Diagnose Date : ",s]}),(0,n.jsxs)("table",{className:"table",style:{width:"90%",border:"1px solid",fontFamily:"ui-rounded",borderRadius:"10px"},children:[(0,n.jsxs)("colgroup",{children:[(0,n.jsx)("col",{style:{width:"31%"}}),(0,n.jsx)("col",{style:{width:"23%"}}),(0,n.jsx)("col",{style:{width:"23%"}}),(0,n.jsx)("col",{style:{width:"23%"}})]}),(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{scope:"col",style:{background:"#FBF295"},children:"Problems"}),(0,n.jsx)("th",{scope:"col",style:{background:"#FBF295"},children:"VAS"}),(0,n.jsx)("th",{scope:"col",style:{background:"#FBF295"},children:"ODI"}),(0,n.jsx)("th",{scope:"col",style:{background:"#FBF295"},children:"MPSI"})]})}),e.problem.map((e=>{let{name:a,scale1:s,scale2:t,scale3:l}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("tbody",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{style:{fontWeight:"bolder"},children:a}),(0,n.jsx)("td",{style:{fontWeight:"bolder"},children:s}),(0,n.jsx)("td",{style:{fontWeight:"bolder"},children:t}),(0,n.jsx)("td",{style:{fontWeight:"bolder"},children:l})]})})})}))]}),(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{style:{margin:"1rem auto 1rem 1rem"},children:(0,n.jsxs)("div",{className:"row",style:{marginTop:"1rem"},children:[(0,n.jsx)("div",{className:"col-md-2 d-flex align-items-center",children:(0,n.jsx)("h5",{children:"Prescription:"})}),(0,n.jsx)("div",{className:"col-md-10 d-flex align-items-center",children:(0,n.jsx)("div",{className:"card",style:{width:"87%",padding:"1rem 2rem"},children:(0,n.jsx)("p",{style:{margin:"0"},children:e.desc})})})]})})})]}),(0,n.jsx)("hr",{})]})})}))})};var i=s(14182),o=s(66921),c=s(58390),d=s(43210),m=s(91036);s(92342);const h=e=>{var a;let{_id:s,getSearchByPatient:r,setIsAddNewDiagnosis:h,setIsDetailed:x}=e,u="http://18.204.141.1:8090",v=localStorage.getItem("patientRecord"),p=JSON.parse(v);const[g,j]=t.useState(null),[y,b]=(0,t.useState)({}),[N,f]=(0,t.useState)(""),[w,S]=(0,t.useState)({diagnosis:[],desc:""}),[A,C]=(0,t.useState)([]),[k,D]=(0,t.useState)([]);(0,t.useEffect)((()=>{P()}),[]);const P=async()=>{try{var e,a,s;const t=await(0,l.J4)("".concat(u,"/api/problem/").concat(null===p||void 0===p||null===(e=p.department_id)||void 0===e?void 0:e._id));D(null===t||void 0===t||null===(a=t.data)||void 0===a||null===(s=a.data[0])||void 0===s?void 0:s.problemName)}catch(t){console.error("Error fetching problems:",t)}},R=(e,a,s)=>{C((t=>t.map((t=>t.problem.name===e?{...t,problem:{...t.problem,[a]:s}}:t))))};return(0,t.useEffect)((()=>{y.desc&&S((e=>({...e,desc:y.desc})))}),[y]),(0,t.useEffect)((()=>{(async()=>{try{const e=await(0,l.J4)("".concat(u,"/api/patient/").concat(s));b(e.data.data)}catch(e){console.log(e)}})()}),[]),(0,n.jsxs)("div",{style:{margin:"1rem auto 1rem 1rem"},children:[(0,n.jsxs)("div",{style:{margin:"1rem auto 1rem 0"},children:[(0,n.jsxs)("h4",{children:["Diagnosis: (",null===p||void 0===p||null===(a=p.department_id)||void 0===a?void 0:a.departmentName,")"]}),(0,n.jsx)("div",{className:"row",children:(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-md-4 alignCenterAndMiddle",style:{border:"1px solid black"},children:(0,n.jsx)("h5",{style:{marginTop:"0.5rem"},children:"Problems"})}),(0,n.jsx)("div",{className:"col-md-8",children:(0,n.jsxs)("div",{className:"row",style:{border:"1px solid black"},children:[(0,n.jsx)("div",{className:"col-md-4 alignCenterAndMiddle",children:(0,n.jsx)("h5",{style:{marginTop:"0.5rem"},children:"VAS"})}),(0,n.jsx)("div",{className:"col-md-4 alignCenterAndMiddle",children:(0,n.jsx)("h5",{style:{marginTop:"0.5rem"},children:"ODI"})}),(0,n.jsx)("div",{className:"col-md-4 alignCenterAndMiddle",children:(0,n.jsx)("h5",{style:{marginTop:"0.5rem"},children:"MPSI"})})]})})]})})]}),(0,n.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),0===A.length)return m.oR.warning("Please select at least one problem");try{let e=[];null===A||void 0===A||A.map((a=>{e.push(a.problem)}));const a={...w,diagnosis:[{problem:e,date:Date(),desc:N}],nextApointmentDate:g};console.log("updatedFormData",a);const t=await(0,l.E8)("".concat(u,"/api/patient/update/").concat(s),a);console.log("Gaurav",t),t&&(C([]),f(""),m.oR.success("Patient Updated Successfully",{autoClose:1e3}),setTimeout((()=>{h(!1),x(!0)}),2e3),r())}catch(a){console.log(a)}},children:[k.map(((e,a)=>{var s,t,l;return(0,n.jsx)("div",{style:{alignItems:"center",marginBottom:"10px"},children:(0,n.jsxs)("div",{className:"row",children:[(0,n.jsxs)("div",{className:"col-md-4",children:[(0,n.jsx)("input",{type:"checkbox",value:e.name,onChange:a=>{return s=e.name,t=a.target.checked,console.log("dateHere",Date.now()),void C(t?e=>[...e,{problem:{name:s,scale1:"",scale2:"",scale3:""},date:Date.now()}]:e=>e.filter((e=>e.problem.name!==s)));var s,t}}),(0,n.jsxs)("label",{children:["\xa0",e.name]})]}),(0,n.jsx)("div",{className:"col-sm-8",children:(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-sm-4",children:(0,n.jsx)("input",{className:"form-control",type:"text",placeholder:"Scale 1",value:(null===(s=A.find((a=>a.problem.name===e.name)))||void 0===s?void 0:s.problem.scale1)||"",onChange:a=>R(e.name,"scale1",a.target.value)})}),(0,n.jsx)("div",{className:"col-sm-4",children:(0,n.jsx)("input",{className:"form-control",type:"text",placeholder:"Scale 2",value:(null===(t=A.find((a=>a.problem.name===e.name)))||void 0===t?void 0:t.problem.scale2)||"",onChange:a=>R(e.name,"scale2",a.target.value)})}),(0,n.jsx)("div",{className:"col-sm-4",children:(0,n.jsx)("input",{className:"form-control",type:"text",placeholder:"Scale 3",value:(null===(l=A.find((a=>a.problem.name===e.name)))||void 0===l?void 0:l.problem.scale3)||"",onChange:a=>R(e.name,"scale3",a.target.value)})})]})})]})},a)})),(0,n.jsx)("div",{children:(0,n.jsx)("textarea",{rows:4,className:"form-control col-12",placeholder:"Prescription",name:"desc",value:N,onChange:e=>f(e.target.value)})}),(0,n.jsx)("div",{className:"d-flex mt-2",children:(0,n.jsx)("div",{className:"w-auto",children:(0,n.jsx)(c.$,{dateAdapter:o.R,children:(0,n.jsx)(i.j,{components:["DateTimePicker"],children:(0,n.jsx)(d.K,{label:"Next Appointment Date",value:g,onChange:e=>{j(e)}})})})})}),(0,n.jsxs)("div",{className:"text-end",children:[(0,n.jsx)("button",{type:"submit",className:"btn btn-primary mt-4",style:{width:"10rem"},children:"Submit"}),(0,n.jsx)("button",{type:"submit",className:"btn btn-danger mt-4 ms-2",style:{width:"10rem"},onClick:()=>(h(!1),void x(!0)),children:"Close"})]})]}),(0,n.jsx)(m.N9,{})]})},x=e=>{let{patientSearch:a,getSearchByPatient:s}=e;const[l,i]=(0,t.useState)(!1),[o,c]=(0,t.useState)(!1),[d,m]=(0,t.useState)(""),[x,u]=(0,t.useState)("");return(0,n.jsx)("div",{children:null===a||void 0===a?void 0:a.map((e=>{const{name:a,crn:t,phone:v,age:p,sex:g,diagnosis:j,_id:y,desc:b,nextApointmentDate:N}=e,f=d===y,w=x===y,S=new Date(N).toLocaleString("en-IN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}).replace(/\//g,"/");return(0,n.jsx)("div",{className:"row",children:(0,n.jsx)("div",{style:{marginTop:"2rem"},children:(0,n.jsx)("div",{className:"card",style:{width:"100%"},children:(0,n.jsxs)("div",{className:"card-body overflow-auto ",children:[(0,n.jsxs)("h5",{className:"card-title",children:["Patient CR No : ",t]}),(0,n.jsx)("h6",{className:"card-subtitle mt-2",children:(0,n.jsxs)("h5",{children:["Name : ",a]})}),(0,n.jsxs)("div",{style:{display:"flex",marginTop:"1rem"},children:[(0,n.jsxs)("span",{style:{display:"flex"},children:[(0,n.jsx)("h6",{children:"Phone No. \xa0"})," ",(0,n.jsx)("h6",{style:{fontWeight:"normal"},children:v})]}),(0,n.jsxs)("span",{style:{display:"flex",marginLeft:"2rem"},children:[(0,n.jsx)("h6",{children:"Age. \xa0"})," ",(0,n.jsx)("h6",{style:{fontWeight:"normal"},children:p})]}),(0,n.jsxs)("span",{style:{display:"flex",marginLeft:"2rem"},children:[(0,n.jsx)("h6",{children:" Sex. \xa0"})," ",(0,n.jsx)("h6",{style:{fontWeight:"normal"},children:g})]}),(0,n.jsxs)("span",{style:{display:"flex",marginLeft:"2rem"},children:[(0,n.jsx)("h6",{children:"Next Appointment Date. \xa0"})," ",(0,n.jsx)("h6",{style:{fontWeight:"normal"},children:S})]})]}),(0,n.jsxs)("div",{className:"text-end",children:[(0,n.jsx)("button",{type:"button",className:"btn btn-success",onClick:()=>{return e=y,m((a=>a===e?"":e)),u(""),void c(!0);var e},children:"Show Details"}),(0,n.jsx)("button",{type:"button",className:"btn btn-warning",style:{marginLeft:"2rem"},onClick:()=>{return u(e=y),m(e),i(!0),void c(!1);var e},children:"Add New Diagnosis"})]}),f&&o&&(0,n.jsx)("div",{children:(0,n.jsx)(r,{diagnosis:j,desc:b})}),w&&l&&(0,n.jsx)("div",{children:(0,n.jsx)(h,{_id:y,getSearchByPatient:s,setIsAddNewDiagnosis:i,setIsDetailed:c})})]})})})},y)}))})};s(83910);var u=s(57528),v=s(98587),p=s(58168),g=s(58387),j=s(68606),y=s(83290),b=s(6803),N=s(72876),f=s(34535),w=s(57056),S=s(32400);function A(e){return(0,S.Ay)("MuiCircularProgress",e)}(0,w.A)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var C,k,D,P;const R=["className","color","disableShrink","size","style","thickness","value","variant"];let _,T,M,I;const F=44,E=(0,y.i7)(_||(_=C||(C=(0,u.A)(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),B=(0,y.i7)(T||(T=k||(k=(0,u.A)(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),L=(0,f.Ay)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:s}=e;return[a.root,a[s.variant],a["color".concat((0,b.A)(s.color))]]}})((e=>{let{ownerState:a,theme:s}=e;return(0,p.A)({display:"inline-block"},"determinate"===a.variant&&{transition:s.transitions.create("transform")},"inherit"!==a.color&&{color:(s.vars||s).palette[a.color].main})}),(e=>{let{ownerState:a}=e;return"indeterminate"===a.variant&&(0,y.AH)(M||(M=D||(D=(0,u.A)(["\n      animation: "," 1.4s linear infinite;\n    "]))),E)})),W=(0,f.Ay)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,a)=>a.svg})({display:"block"}),H=(0,f.Ay)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,a)=>{const{ownerState:s}=e;return[a.circle,a["circle".concat((0,b.A)(s.variant))],s.disableShrink&&a.circleDisableShrink]}})((e=>{let{ownerState:a,theme:s}=e;return(0,p.A)({stroke:"currentColor"},"determinate"===a.variant&&{transition:s.transitions.create("stroke-dashoffset")},"indeterminate"===a.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(e=>{let{ownerState:a}=e;return"indeterminate"===a.variant&&!a.disableShrink&&(0,y.AH)(I||(I=P||(P=(0,u.A)(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),B)})),J=t.forwardRef((function(e,a){const s=(0,N.A)({props:e,name:"MuiCircularProgress"}),{className:t,color:l="primary",disableShrink:r=!1,size:i=40,style:o,thickness:c=3.6,value:d=0,variant:m="indeterminate"}=s,h=(0,v.A)(s,R),x=(0,p.A)({},s,{color:l,disableShrink:r,size:i,thickness:c,value:d,variant:m}),u=(e=>{const{classes:a,variant:s,color:t,disableShrink:l}=e,n={root:["root",s,"color".concat((0,b.A)(t))],svg:["svg"],circle:["circle","circle".concat((0,b.A)(s)),l&&"circleDisableShrink"]};return(0,j.A)(n,A,a)})(x),y={},f={},w={};if("determinate"===m){const e=2*Math.PI*((F-c)/2);y.strokeDasharray=e.toFixed(3),w["aria-valuenow"]=Math.round(d),y.strokeDashoffset="".concat(((100-d)/100*e).toFixed(3),"px"),f.transform="rotate(-90deg)"}return(0,n.jsx)(L,(0,p.A)({className:(0,g.A)(u.root,t),style:(0,p.A)({width:i,height:i},f,o),ownerState:x,ref:a,role:"progressbar"},w,h,{children:(0,n.jsx)(W,{className:u.svg,ownerState:x,viewBox:"".concat(22," ").concat(22," ").concat(F," ").concat(F),children:(0,n.jsx)(H,{className:u.circle,style:y,ownerState:x,cx:F,cy:F,r:(F-c)/2,fill:"none",strokeWidth:c})})}))}));var O=s(54984),z=s(58812),K=s(18698),V=s(45527);const $=["className","component"];var q=s(25430),G=s(88279),U=s(13375);const X=(0,w.A)("MuiBox",["root"]),Y=(0,G.A)(),Q=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:a,defaultTheme:s,defaultClassName:l="MuiBox-root",generateClassName:r}=e,i=(0,O.default)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(z.A);return t.forwardRef((function(e,t){const o=(0,V.A)(s),c=(0,K.A)(e),{className:d,component:m="div"}=c,h=(0,v.A)(c,$);return(0,n.jsx)(i,(0,p.A)({as:m,ref:t,className:(0,g.A)(d,r?r(l):l),theme:a&&o[a]||o},h))}))}({themeId:U.A,defaultTheme:Y,defaultClassName:X.root,generateClassName:q.A.generate}),Z=Q;function ee(){return(0,n.jsx)(Z,{style:{width:"100%",height:"20vh",lineHeight:"20vh",textAlign:"center",backgroundColor:"white",marginTop:"10px"},children:(0,n.jsx)(J,{})})}const ae=()=>(0,n.jsx)(Z,{style:{width:"100%",height:"100%",lineHeight:"20vh",textAlign:"center",marginTop:"10px"},children:(0,n.jsx)(J,{})});var se=s(73216);const te=()=>{var e,a;const s=(0,se.zy)();console.log("location",Number(null===s||void 0===s||null===(e=s.state)||void 0===e?void 0:e.crn));let r="http://18.204.141.1:8090",h=localStorage.getItem("patientRecord"),u=JSON.parse(h);const[v,p]=(0,t.useState)(!1),[g,j]=(0,t.useState)(!1),[y,b]=(0,t.useState)(!1),[N,f]=t.useState(null),[w,S]=(0,t.useState)(!1),[A,C]=(0,t.useState)(""),[k,D]=(0,t.useState)([]),[P,R]=(0,t.useState)([]),[_,T]=(0,t.useState)(""),[M,I]=(0,t.useState)({name:"",age:"",sex:"male",phone:"",crn:"",diagnosis:[],desc:"",doctor_id:null===u||void 0===u?void 0:u._id}),[F,E]=(0,t.useState)([]);console.log("value date",N),(0,t.useEffect)((()=>{C(""),B()}),[]);const B=async()=>{try{var e,a,s;const t=await(0,l.J4)("".concat(r,"/api/problem/").concat(null===u||void 0===u||null===(e=u.department_id)||void 0===e?void 0:e._id));R(null===t||void 0===t||null===(a=t.data)||void 0===a||null===(s=a.data[0])||void 0===s?void 0:s.problemName)}catch(t){console.error("Error fetching problems:",t)}};console.log("problems",P);const L=(e,a,s)=>{E((t=>t.map((t=>t.problem.name===e?{...t,problem:{...t.problem,[a]:s}}:t))))},W=async()=>{try{var e,a;let t=A||(null===s||void 0===s||null===(e=s.state)||void 0===e?void 0:e.crn);if(0===(null===t||void 0===t?void 0:t.length))return;j(!0);const n=await(0,l.J4)("".concat(r,"/api/patient/").concat(t));console.log("searchData",n),D(null===n||void 0===n||null===(a=n.data)||void 0===a?void 0:a.data),setTimeout((()=>{j(!1)}),3e3)}catch(t){console.log(t)}};(0,t.useEffect)((()=>{!0===v&&W()}),[v]);let[H,J]=(0,t.useState)(new Date);return(0,t.useEffect)((()=>{var e,a;null!==s&&void 0!==s&&null!==(e=s.state)&&void 0!==e&&e.crn&&(C(null===s||void 0===s||null===(a=s.state)||void 0===a?void 0:a.crn),W())}),[s]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:[w||y?"":(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{style:{fontWeight:"bolder"},children:"Search Patient"}),(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,n.jsxs)("div",{className:"d-flex",children:[(0,n.jsx)("input",{style:{paddingLeft:"5px"},className:"form-control",placeholder:"CR no. or Phone no.",type:"text",name:"search",value:A,onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),W())},onChange:e=>C(e.target.value)}),(0,n.jsx)("button",{className:"btn btn-primary",style:{marginLeft:"1rem",borderRadius:"5px"},type:"button",onClick:W,children:"Search"}),null!==A&&void 0!==A&&A.length?(0,n.jsx)("button",{className:"btn btn-danger text-light",style:{marginLeft:"1rem",borderRadius:"5px"},type:"button",onClick:()=>{try{C(""),D([])}catch(e){console.log(e)}},children:"Clear"}):""]}),(0,n.jsx)("div",{children:(0,n.jsx)("button",{style:{marginLeft:"1rem",borderRadius:"5px"},type:"button",onClick:()=>S(!0),className:"btn btn-outline-dark",children:"Add a Patient"})})]})]}),null===k||void 0===k||!k.length||w||y?(0,n.jsx)("div",{children:w?(0,n.jsxs)("div",{style:{marginTop:"1rem"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("hr",{}),(0,n.jsx)("h4",{children:"Patient Details"}),(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-md-4",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"col-sm-4 mt-2 patientNamediv",children:"Name*"}),(0,n.jsx)("div",{className:"col-sm-8",children:(0,n.jsx)("input",{type:"text",className:"form-control ",name:"name",value:M.name,onChange:e=>I({...M,name:e.target.value})})})]})}),(0,n.jsx)("div",{className:"col-md-4",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"col-sm-4 mt-2 patientNamediv",children:"Age*"}),(0,n.jsx)("div",{className:"col-sm-8",children:(0,n.jsx)("input",{type:"number",className:"form-control ",name:"age",value:M.age,onChange:e=>I({...M,age:e.target.value})})})]})}),(0,n.jsx)("div",{className:"col-md-4",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"col-sm-4 mt-2 patientNamediv",children:"Sex*"}),(0,n.jsx)("div",{className:"col-sm-8",children:(0,n.jsxs)("select",{className:"form-control ",name:"sex",value:M.sex,onChange:e=>I({...M,sex:e.target.value}),children:[(0,n.jsx)("option",{value:"male",children:"Male"}),(0,n.jsx)("option",{value:"female",children:"Female"}),(0,n.jsx)("option",{value:"other",children:"Other"})]})})]})}),(0,n.jsxs)("div",{className:"row mt-4",children:[(0,n.jsx)("div",{className:"col-md-5",children:(0,n.jsxs)("div",{style:{width:"23.3rem"},children:[(0,n.jsx)("label",{className:"col-sm-4 mt-2 patientNamediv",children:"Phone Number*"}),(0,n.jsx)("div",{className:" col-lg-8 col-sm-8",children:(0,n.jsx)("input",{className:"form-control ",type:"text",name:"phone",value:M.phone,onChange:e=>{(/^\d*$/.test(e.target.value)||""===e.target.value)&&I({...M,phone:e.target.value})},required:!0})})]})}),(0,n.jsx)("div",{className:"col-md-5",children:(0,n.jsxs)("div",{style:{width:"23.3rem"},children:[(0,n.jsx)("label",{className:"col-sm-4 mt-2 patientNamediv",children:"CR Number*"}),(0,n.jsx)("div",{className:"col-sm-8",children:(0,n.jsx)("input",{className:"form-control ",type:"test",name:"crn",value:M.crn,onChange:e=>I({...M,crn:e.target.value}),required:!0})})]})})]})]}),(0,n.jsx)("hr",{}),(0,n.jsxs)("div",{style:{margin:"1rem auto 1rem 0"},children:[(0,n.jsxs)("h4",{children:["Diagnosis: (",null===u||void 0===u||null===(a=u.department_id)||void 0===a?void 0:a.departmentName,")"]}),(0,n.jsx)("div",{className:"row",children:(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-md-4 alignCenterAndMiddle",style:{border:"1px solid black"},children:(0,n.jsx)("h5",{style:{marginTop:"0.5rem"},children:"Problems"})}),(0,n.jsx)("div",{className:"col-md-8",children:(0,n.jsxs)("div",{className:"row",style:{border:"1px solid black"},children:[(0,n.jsx)("div",{className:"col-md-4 alignCenterAndMiddle",children:(0,n.jsx)("h5",{style:{marginTop:"0.5rem"},children:"VAS"})}),(0,n.jsx)("div",{className:"col-md-4 alignCenterAndMiddle",children:(0,n.jsx)("h5",{style:{marginTop:"0.5rem"},children:"ODI"})}),(0,n.jsx)("div",{className:"col-md-4 alignCenterAndMiddle",children:(0,n.jsx)("h5",{style:{marginTop:"0.5rem"},children:"MPSI"})})]})})]})})]}),(0,n.jsx)("form",{children:P.map(((e,a)=>{var s,t,l;return(0,n.jsx)("div",{style:{alignItems:"center",marginBottom:"10px"},children:(0,n.jsxs)("div",{className:"row",children:[(0,n.jsxs)("div",{className:"col-md-4 ",children:[(0,n.jsx)("input",{type:"checkbox",value:e.name,onChange:a=>{return s=e.name,t=a.target.checked,void E(t?e=>[...e,{problem:{name:s,scale1:"",scale2:"",scale3:""}}]:e=>e.filter((e=>e.problem.name!==s)));var s,t}}),(0,n.jsxs)("label",{children:["\xa0",e.name]})]}),(0,n.jsx)("div",{className:"col-sm-8",children:(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-sm-4",children:(0,n.jsx)("input",{className:"form-control",type:"text",placeholder:"Scale 1",value:(null===(s=F.find((a=>a.problem.name===e.name)))||void 0===s?void 0:s.problem.scale1)||"",onChange:a=>L(e.name,"scale1",a.target.value),disabled:!F.some((a=>a.problem.name===e.name))})}),(0,n.jsx)("div",{className:"col-sm-4",children:(0,n.jsx)("input",{className:"form-control",type:"text",placeholder:"Scale 2",value:(null===(t=F.find((a=>a.problem.name===e.name)))||void 0===t?void 0:t.problem.scale2)||"",onChange:a=>L(e.name,"scale2",a.target.value),disabled:!F.some((a=>a.problem.name===e.name))})}),(0,n.jsx)("div",{className:"col-sm-4",children:(0,n.jsx)("input",{className:"form-control",type:"text",placeholder:"Scale 3",value:(null===(l=F.find((a=>a.problem.name===e.name)))||void 0===l?void 0:l.problem.scale3)||"",onChange:a=>L(e.name,"scale3",a.target.value),disabled:!F.some((a=>a.problem.name===e.name))})})]})})]})},a)}))}),(0,n.jsx)("div",{children:(0,n.jsx)("textarea",{rows:4,className:"form-control col-12",placeholder:"Prescription",name:"desc",value:_,onChange:e=>T(e.target.value)})})]}),(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:"d-flex mt-2",children:(0,n.jsx)("div",{className:"w-auto",children:(0,n.jsx)(c.$,{dateAdapter:o.R,children:(0,n.jsx)(i.j,{components:["DateTimePicker"],children:(0,n.jsx)(d.K,{label:"Next Appointment Date",value:N,onChange:e=>{f(e)}})})})})})}),(0,n.jsxs)("div",{className:"text-end m-4",children:[(0,n.jsx)("button",{className:"btn btn-info mt-3 mx-2 w-auto",onClick:async()=>{if(C(""),!M.name||!M.age||!M.sex||!M.phone||!M.crn)return m.oR.warning("Please fill all Patient details");if(0===F.length)return m.oR.warning("Please select at least one problem");let e=[];null===F||void 0===F||F.map((a=>{e.push(a.problem)}));const a={...M,diagnosis:[{problem:e,date:Date(),desc:_}],nextApointmentDate:N};console.log("updatedFormData",a);try{var s;console.log("pre",a);const e=await(0,l.Hl)("".concat(r,"/api/patient/create"),a);console.log("Data",e),!0===e.success&&(m.oR.success("Patient Created Successfully",{autoClose:2e3}),b(!0),S(!1),setTimeout((()=>{p(!0),b(!1),E([]),T(""),f(null)}),2e3),I({name:"",age:"",sex:"male",phone:"",crn:"",diagnosis:[],desc:"",doctor_id:null===u||void 0===u?void 0:u._id})),"phone Already Exists"==e.message&&m.oR.warning("phone Already Exists"),"Crn Already Exists"==e.message&&m.oR.warning("Crn Already Exists"),console.log("data",e),C(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.crn)}catch(t){m.oR.warning("Something went wrong"),console.error("Error submitting data:",t)}},children:"Submit"}),(0,n.jsx)("button",{className:"btn btn-info mt-3 w-auto",onClick:()=>S(!1),children:"Close"})]})]}):(0,n.jsx)("div",{children:y?"":(0,n.jsx)("div",{style:{width:"100%",height:"20vh",lineHeight:"20vh",textAlign:"center",backgroundColor:"white",marginTop:"10px"},children:g?(0,n.jsx)(ee,{}):"No Data"})})}):(0,n.jsx)(x,{patientSearch:k,setData:S,getSearchByPatient:W})]}),y?(0,n.jsx)(ae,{}):"",(0,n.jsx)(m.N9,{})]})}},62377:()=>{}}]);
//# sourceMappingURL=4701.2eb5d9e8.chunk.js.map