{"version":3,"file":"static/js/2214.8a9b081d.chunk.js","mappings":"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","sources":["views/pages/patient/PatientShowDetails.jsx","views/pages/patient/PatientAddNewRecord.jsx","views/pages/patient/PatientInfoData.jsx","views/pages/loader/AddPatientLoader.jsx","views/pages/patient/AddNewPatient.jsx","views/pages/patient/PatientPage.jsx","../node_modules/@coreui/icons/src/free/cil-minus.ts","../node_modules/@coreui/icons/src/free/cil-plus.ts","../node_modules/@coreui/icons/src/free/cil-trash.ts"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react'\nimport PropTypes from 'prop-types'\nimport axios from 'axios'\nimport CIcon from '@coreui/icons-react'\nimport { cilDataTransferDown } from '@coreui/icons'\nimport { ToastContainer, toast } from 'react-toastify'\nimport SpinnerOverlay from 'src/views/publicItems/ SpinnerOverlay'\n\nconst PatientShowDetails = ({ diagnosis }) => {\n  // console.log('Guarva', diagnosis)\n  const [reversedDiagnosis, setReversedDiagnosis] = useState([])\n  const [loading, setLoading] = useState(false)\n  const [requestedFileLoading, setRequestedFileLoading] = useState({})\n  // const [selectedFile, setSelectedFile] = useState(Array(diagnosis?.length).fill(''))\n\n  useEffect(() => {\n    if (diagnosis && Array.isArray(diagnosis)) {\n      const reversed = [...diagnosis].reverse()\n      setReversedDiagnosis(reversed)\n    }\n  }, [diagnosis])\n\n  const showReportHandler = async (filename, index) => {\n    try {\n      setLoading(true)\n\n      const response = await axios.get(\n        `${process.env.REACT_APP_API_URL}/api/user/getPatientReport/${filename}`,\n        {\n          responseType: 'blob',\n        },\n      )\n\n      const blob = new Blob([response.data], { type: response.headers['content-type'] })\n      const blobUrl = URL.createObjectURL(blob)\n      window.open(blobUrl)\n    } catch (error) {\n      setLoading(false)\n      console.error('Error fetching report:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  // const handleFileSelect = (e, index) => {\n  //   const { value } = e.target\n  //   const updatedSelectedFile = [...selectedFile]\n  //   updatedSelectedFile[index] = value\n  //   setSelectedFile(updatedSelectedFile)\n  // }\n  const editNameFun = (name) => {\n    if (name) {\n      const fileName = name\n      const parts = fileName.split('_')\n      // Check if the file name contains underscores\n      if (parts.length > 1) {\n        // Exclude the first part of the file name and join the rest with underscores\n        const editedFileName = parts.slice(1).join('_')\n        const actualFileName = editedFileName.split('.')[0]\n        return actualFileName\n      } else {\n        // If there are no underscores or only one part, return the original file name\n        return fileName\n      }\n    } else {\n      // If the file name is undefined, return an empty string\n      return ''\n    }\n  }\n  // console.log('guarva', reversedDiagnosis)\n\n  const [hoveredFile, setHoveredFile] = useState(null)\n\n  return (\n    <div style={{ maxHeight: '300px', marginTop: '20px' }}>\n      {reversedDiagnosis?.map((elem, index) => {\n        const date = new Date(elem.date)\n        const formattedDate = date\n          .toLocaleDateString('en-IN', {\n            year: 'numeric',\n            month: '2-digit',\n            day: '2-digit',\n            hour: '2-digit',\n            minute: '2-digit',\n            hour12: true,\n          })\n          .replace(/\\//g, '/')\n\n        return (\n          <div key={index} style={{ margin: '1rem' }}>\n            <div className=\"row\" style={{ overflowX: 'auto' }}>\n              <div style={{ overflow: 'auto !important' }}>\n                <h5>Diagnose Date: {formattedDate}</h5>\n\n                <table\n                  className=\"table\"\n                  style={{\n                    width: '100%',\n                    border: '1px solid',\n                    fontFamily: 'ui-rounded',\n                    borderRadius: '10px',\n                  }}\n                >\n                  <colgroup>\n                    <col style={{ width: '20%' }} />\n                    <col style={{ width: '20%' }} />\n                    <col style={{ width: '30%' }} />\n                    <col style={{ width: '30%' }} />\n                  </colgroup>\n                  <thead>\n                    <tr>\n                      <th scope=\"col\" className=\"tableTitle\" style={{ background: '#FBF295' }}>\n                        Problems\n                      </th>\n                      <th scope=\"col\" className=\"tableTitle\" style={{ background: '#FBF295' }}>\n                        Sub Problem\n                      </th>\n                      <th scope=\"col\" className=\"tableTitle\" style={{ background: '#FBF295' }}>\n                        Tests\n                      </th>\n                      <th scope=\"col\" className=\"tableTitle\" style={{ background: '#FBF295' }}>\n                        Scales\n                      </th>\n                    </tr>\n                  </thead>\n                  {elem?.diagnosData?.map((element, innerIndex) => {\n                    const { problem, subProblem, scale, test } = element\n                    console.log('hgsad', element)\n                    return (\n                      <>\n                        <tbody key={innerIndex}>\n                          {loading && <SpinnerOverlay message=\"Opening File\" />}\n                          <tr>\n                            <td style={{ fontWeight: 'bolder' }}>{problem}</td>\n                            <td style={{ fontWeight: 'bolder' }}>\n                              {subProblem ? subProblem : '-'}\n                            </td>\n                            <td>\n                              {test.map((testData, testIndex) => (\n                                <div key={testIndex}>\n                                  {testData.name === '' ? (\n                                    '-'\n                                  ) : (\n                                    <div className=\"row\" style={{ margin: 0 }}>\n                                      <td\n                                        // className=\"tableTitle\"\n                                        style={{\n                                          width: '50%',\n                                          paddingRight: '10px',\n                                          margin: 'auto',\n                                          fontWeight: 'bolder',\n                                        }}\n                                      >\n                                        {testData.name}\n                                      </td>\n                                      <div style={{ width: '50%' }}>\n                                        <td style={{ margin: '0', padding: 0 }}>\n                                          {testData.testInput !== '' ? (\n                                            <td\n                                              style={{\n                                                width: '40%',\n                                                paddingRight: '10px',\n                                                margin: 'auto',\n                                              }}\n                                            >\n                                              {testData.testInput}\n                                            </td>\n                                          ) : (\n                                            <div style={{ display: 'flex', margin: 0 }}>\n                                              {testData.files?.map((file, fileIndex) => (\n                                                <div\n                                                  key={fileIndex}\n                                                  value={file.fileName}\n                                                  style={{\n                                                    display: 'flex',\n                                                    alignItems: 'center',\n                                                    marginRight: '10px',\n                                                    margin: '0 5px 0 0', // Adjusted margin for files\n                                                  }}\n                                                  onMouseEnter={() => {\n                                                    const editedName = editNameFun(file.fileName)\n                                                    setHoveredFile(editedName)\n                                                  }}\n                                                  onMouseLeave={() => setHoveredFile('')}\n                                                  onClick={() =>\n                                                    showReportHandler(file?.fileName, fileIndex)\n                                                  }\n                                                >\n                                                  <button\n                                                    type=\"button\"\n                                                    className=\"btn btn-sm btn-primary\"\n                                                    data-toggle=\"popover\"\n                                                    title={hoveredFile}\n                                                    style={{ margin: '0' }}\n                                                  >\n                                                    <CIcon icon={cilDataTransferDown} />\n                                                  </button>\n                                                </div>\n                                              ))}\n                                            </div>\n                                          )}\n                                        </td>\n                                      </div>\n                                    </div>\n                                  )}\n                                </div>\n                              ))}\n                            </td>\n                            <td>\n                              {scale.map((scaleData, scaleIndex) => (\n                                <div key={scaleIndex}>\n                                  {scaleData.name === '' ? (\n                                    '-'\n                                  ) : (\n                                    <div className=\"row\" style={{ margin: 0 }}>\n                                      <div\n                                        className=\"col-md-6\"\n                                        style={{\n                                          fontWeight: 'bolder',\n                                          paddingRight: '10px',\n                                          margin: 'auto',\n                                          wordWrap: 'break-word',\n                                        }}\n                                      >\n                                        {scaleData.name}\n                                      </div>\n\n                                      <div\n                                        className=\"col-md-6 tableTitle\"\n                                        style={{\n                                          margin: '0',\n                                          padding: 0,\n                                          wordWrap: 'break-word',\n                                        }}\n                                      >\n                                        {scaleData.value}\n                                      </div>\n                                    </div>\n                                  )}\n                                </div>\n                              ))}\n                            </td>\n                          </tr>\n                        </tbody>\n                      </>\n                    )\n                  })}\n                  {elem?.procedure.length !== 0 ? (\n                    <>\n                      <tr>\n                        <td colSpan=\"4\">\n                          <h5 style={{ fontWeight: 'bolder' }}>Procedures:</h5>\n                        </td>\n                      </tr>\n                      <tr>\n                        {/* <th scope=\"col\" className=\"tableTitle\" style={{ background: '#FBF295' }}> */}\n                        <td\n                          className=\"tableTitle\"\n                          style={{ background: '#FBF295', fontWeight: 'bold' }}\n                        >\n                          Name\n                        </td>\n                        <td\n                          className=\"tableTitle\"\n                          style={{ background: '#FBF295', fontWeight: 'bold' }}\n                        >\n                          Complications\n                        </td>\n                        <td\n                          className=\"tableTitle\"\n                          style={{ background: '#FBF295', fontWeight: 'bold' }}\n                        >\n                          Done By\n                        </td>\n                        <td\n                          className=\"tableTitle\"\n                          style={{ background: '#FBF295', fontWeight: 'bold' }}\n                        >\n                          Date\n                        </td>\n                      </tr>\n                      {elem?.procedure.map((procedureData, procedureIndex) => {\n                        const date = new Date(procedureData.date)\n                        const formattedDate = date\n                          .toLocaleDateString('en-IN', {\n                            year: 'numeric',\n                            month: '2-digit',\n                            day: '2-digit',\n                            hour: '2-digit',\n                            minute: '2-digit',\n                            hour12: true,\n                          })\n                          .replace(/\\//g, '/')\n                        return (\n                          <tr key={procedureIndex}>\n                            <td>&nbsp;&nbsp;{procedureData.name}</td>\n                            <td>{procedureData.complications}</td>\n                            <td>{procedureData.doneBy}</td>\n                            <td>{formattedDate}</td>\n                          </tr>\n                        )\n                      })}\n                    </>\n                  ) : (\n                    ''\n                  )}\n                </table>\n\n                <div className=\"row\" style={{ margin: '1rem auto 1rem 0' }}>\n                  <div>\n                    <div className=\"row\">\n                      <div className=\"card\" style={{ padding: '1rem 2rem' }}>\n                        <div className=\"d-flex\">\n                          <p style={{ margin: '0' }}>\n                            {' '}\n                            Notes :&nbsp;&nbsp;&nbsp;{elem.desc === '' ? '-' : elem.desc}\n                          </p>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <hr style={{ width: '100%' }} />\n          </div>\n        )\n      })}\n      <ToastContainer />\n    </div>\n  )\n}\n\nPatientShowDetails.propTypes = {\n  diagnosis: PropTypes.array.isRequired,\n}\n\nexport default PatientShowDetails\n","import React, { useEffect, useState } from 'react'\nimport PropTypes from 'prop-types'\nimport { getFetch, postFetchFile, putFetchData } from 'src/api/Api'\nimport { DemoContainer } from '@mui/x-date-pickers/internals/demo'\nimport { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider'\nimport { DateTimePicker } from '@mui/x-date-pickers/DateTimePicker'\nimport { ToastContainer, toast } from 'react-toastify'\nimport 'react-toastify/dist/ReactToastify.css'\nimport SpinnerOverlay from 'src/views/publicItems/ SpinnerOverlay'\nimport CIcon from '@coreui/icons-react'\nimport { cilMinus, cilPlus, cilTrash } from '@coreui/icons'\nimport dayjs from 'dayjs'\n// import { API_URL } from 'src/constant'\n\nconst PatientAddNewRecord = ({\n  _id,\n  getSearchByPatient,\n  setIsAddNewDiagnosis,\n  setIsDetailed,\n  diagnosisProp,\n}) => {\n  let API_URL = process.env.REACT_APP_API_URL\n  let patientData = localStorage.getItem('patientRecord')\n  let patientRecord = JSON.parse(patientData)\n  PatientAddNewRecord.propTypes = {\n    _id: PropTypes.string.isRequired,\n    getSearchByPatient: PropTypes.string.isRequired,\n    setIsAddNewDiagnosis: PropTypes.string.isRequired,\n    setIsDetailed: PropTypes.string.isRequired,\n    diagnosisProp: PropTypes.string.isRequired,\n  }\n  const currentDate = new Date()\n  const [inputs, setInputs] = useState([\n    {\n      problem: '',\n      subProblem: '',\n      test: [\n        {\n          name: '',\n          testInput: '',\n          files: [],\n        },\n      ],\n      scale: [\n        {\n          name: '',\n          value: '',\n        },\n      ],\n    },\n  ])\n\n  const [procedure, setProcedure] = useState([\n    {\n      name: '',\n      complications: '',\n      doneBy: '',\n      date: dayjs(currentDate),\n    },\n  ])\n\n  const [lastDiagnosis, setLastDiagnosis] = useState('')\n  const [addProcedureToggle, setAddProcedureToggle] = useState(false)\n  let [removeAndAddInputProcedure, setremoveAndAddInputProcedure] = useState(false)\n\n  useEffect(() => {\n    const lastRecords = diagnosisProp[diagnosisProp.length - 1]\n    const lastDiagnosis = lastRecords?.diagnosData[lastRecords?.diagnosData.length - 1]\n    setLastDiagnosis(lastDiagnosis)\n    console.log('Guarssadva', lastDiagnosis)\n    setInputs([\n      {\n        problem: '',\n        subProblem: '',\n        test: [\n          {\n            name: '',\n            testInput: '',\n            files: [],\n          },\n        ],\n        scale: [\n          {\n            name: '',\n            value: '',\n          },\n        ],\n      },\n    ])\n  }, [])\n\n  const [startingDate, setStartingDate] = React.useState(null)\n  const [patientById, setPatientById] = useState({})\n  const [desc, setDesc] = useState('')\n  const [formData, setFormData] = useState({\n    diagnosis: [],\n    desc: '',\n  })\n  const [diagnosis, setDiagnosis] = useState([])\n  let [fileUploadingSpinner, setfileUploadingSpinner] = useState(false)\n  const [problems, setProblems] = useState([])\n  const [tests, setTests] = useState([])\n  const [scales, setScales] = useState([])\n  const [loading, setLoading] = useState(false)\n\n  useEffect(() => {\n    fetchProblems()\n  }, [])\n\n  const fetchProblems = async () => {\n    try {\n      const problemsResponse = await getFetch(\n        `${API_URL}/api/problem/${patientRecord?.department_id?._id}`,\n      )\n      const problemsData = problemsResponse?.data?.data[0]\n      if (problemsData) {\n        const problemFilter = problemsData.problemName\n          .filter((item) => item.type === 'problem')\n          .map((problem) => problem.name)\n        const scaleFilter = problemsData.problemName\n          .filter((item) => item.type === 'scale')\n          .map((scale) => scale.name)\n        const testFilter = problemsData.problemName\n          .filter((item) => item.type === 'test')\n          .map(({ name, inputType }) => ({ name: name, inputType }))\n        setTests(testFilter)\n        setScales(scaleFilter)\n        setProblems(problemFilter)\n      }\n    } catch (error) {\n      console.error('Error fetching problems:', error)\n    }\n  }\n\n  const handleStartingDateChange = (date) => {\n    setStartingDate(date)\n  }\n\n  const getPatientById = async () => {\n    try {\n      const data = await getFetch(`${API_URL}/api/patient/${_id}`)\n      setPatientById(data.data.data)\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n\n    if (inputs.length === 1 && inputs[0].problem === '') {\n      return toast.warning('Please select at least one Chief complaint')\n    }\n    const filteredInputs = inputs\n      .map((data) => ({\n        ...data,\n        test: data.test.filter((test) => test.name !== ''),\n        scale: data.scale.filter((scale) => scale.name !== ''),\n      }))\n      .filter((data) => data.problem !== '')\n    const filterProcedure = procedure.filter((data) => data.name !== '')\n\n    for (const data of filteredInputs) {\n      if (\n        data.test.length > 0 &&\n        data.test.some((test) => test.testInput === '' && test.files.length === 0)\n      ) {\n        toast.warning('Please provide input or upload file(s) for selected test(s)')\n        return\n      }\n\n      if (data.scale.length > 0 && data.scale.some((scale) => scale.value === '')) {\n        toast.warning('Please provide input for selected scale(s)')\n        return\n      }\n    }\n\n    // for (const data of inputs) {\n    //   if (data.test !== '' && data.testInput === '' && data.files.length === 0) {\n    //     toast.warning('Please give input for selected test')\n    //     return // Stop further execution\n    //   }\n\n    //   if (data.scale !== '' && data.value === '') {\n    //     toast.warning('Please give input for selected scale')\n    //     return // Stop further execution\n    //   }\n    //   console.log('data', data)\n    // }\n    // toast.warning('Uploading Files and Reports')z\n    setfileUploadingSpinner(true)\n    try {\n      await Promise.all(\n        filteredInputs.map(async (data, index) => {\n          await Promise.all(\n            data.test.map(async (presentTest, testIndex) => {\n              if (presentTest.files) {\n                const files = presentTest.files\n                if (files.length > 0) {\n                  const formData = new FormData()\n                  files.forEach((file) => {\n                    // Check if the file type is allowed\n                    const allowedFileTypes = ['image/jpeg', 'image/png', 'application/pdf']\n                    if (allowedFileTypes.includes(file.type)) {\n                      formData.append('files', file) // Append each allowed file to the FormData\n                    } else {\n                      console.warn('File type not allowed:', file.type)\n                    }\n                  })\n                  if (formData.has('files')) {\n                    const response = await postFetchFile(\n                      `${API_URL}/api/user/uploadPatientReport`,\n                      formData,\n                    )\n                    if (response) {\n                      setfileUploadingSpinner(false)\n                      filteredInputs[index].test[testIndex].files = response.filesInfo\n                    }\n                  } else {\n                    setfileUploadingSpinner(false)\n                    console.warn('No valid files to upload')\n                  }\n                }\n              } else {\n                filteredInputs[index].test[testIndex].files = null\n                setfileUploadingSpinner(false)\n              }\n            }),\n          )\n        }),\n      )\n    } catch (error) {\n      setfileUploadingSpinner(false)\n      console.error('Error uploading files:', error)\n      return\n    }\n    // if (addProcedureToggle) {\n    //   filteredInputs.forEach((data, index) => {\n    //     data.procedure = filterProcedure\n    //   })\n    // }\n\n    try {\n      setLoading(true)\n      const updatedFormData = {\n        ...formData,\n        diagnosis: [\n          {\n            diagnosData: filteredInputs,\n            procedure: filterProcedure,\n            date: Date(),\n            desc,\n          },\n        ],\n        nextApointmentDate: startingDate,\n      }\n      // console.log('updatedFormData', updatedFormData)\n\n      const data = await putFetchData(`${API_URL}/api/patient/update/${_id}`, updatedFormData)\n\n      // console.log('Gaurav', data)\n      if (data) {\n        setDiagnosis([])\n        setDesc('')\n        toast.success('Patient Updated Successfully', {\n          autoClose: 1000,\n        })\n\n        setIsAddNewDiagnosis(false)\n        setIsDetailed(true)\n        setInputs([\n          {\n            problem: '',\n            subProblem: '',\n            test: [\n              {\n                name: '',\n                testInput: '',\n                files: [],\n              },\n            ],\n            scale: [\n              {\n                name: '',\n                value: '',\n              },\n            ],\n          },\n        ])\n        setLoading(false)\n\n        getSearchByPatient()\n        // window.location.reload()\n      }\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  const handleClose = () => {\n    setIsAddNewDiagnosis(false)\n    setIsDetailed(true)\n  }\n\n  useEffect(() => {\n    if (patientById.desc) {\n      setFormData((prevFormData) => ({\n        ...prevFormData,\n        desc: patientById.desc,\n      }))\n    }\n  }, [patientById])\n\n  useEffect(() => {\n    getPatientById()\n  }, [])\n\n  /// new updates by Gaurav 28 march 2024 for updating the diagnoses data and formate to add problems tests and scales\n\n  let [removeAndAddInput, setremoveAndAddInput] = useState(false)\n\n  const handleInputChange = (index, event) => {\n    const { name, value } = event.target\n    const updatedInputs = [...inputs]\n    updatedInputs[index][name] = value\n    setInputs(updatedInputs)\n  }\n\n  const handleFileInputChange = (index, testindex, event) => {\n    const { name, files } = event.target\n    const allowedFileTypes = ['image/jpeg', 'image/png', 'application/pdf']\n    const maxFiles = 3 // Maximum number of files allowed\n\n    // Check if the number of selected files exceeds the limit\n    if (files.length > maxFiles) {\n      event.target.value = '' // Clear the file input\n      toast.warning('You can only upload up to 3 files', { autoClose: 1500 })\n      return\n    }\n\n    const updatedInputs = [...inputs]\n\n    // Convert FileList to array and filter out files that exceed the size limit or are not of allowed types\n    const filesArray = Array.from(files).filter((file) => {\n      if (file.size > 31457280) {\n        toast.warning('File size should be less than 30 MB', { autoClose: 1500 })\n        return false\n      }\n      if (!allowedFileTypes.includes(file.type)) {\n        toast.warning('Only images and PDFs are allowed', { autoClose: 1500 })\n        return false\n      }\n      return true\n    })\n\n    updatedInputs[index].test[testindex].files = filesArray // Store the array of files\n    setInputs(updatedInputs)\n  }\n\n  const handleAddInput = () => {\n    const allInputsHaveProblem = inputs.every((input) => input.problem !== '')\n    if (allInputsHaveProblem) {\n      setInputs([\n        ...inputs,\n        {\n          problem: '',\n          subProblem: '',\n          test: [\n            {\n              name: '',\n              testInput: '',\n              files: [],\n            },\n          ],\n          scale: [\n            {\n              name: '',\n              value: '',\n            },\n          ],\n        },\n      ])\n    } else {\n      toast.warning('Please Fill Details of previous Record before adding new!!', {\n        autoClose: 1500,\n      })\n    }\n  }\n\n  const handleRemoveInput = (index) => {\n    const updatedInputs = [...inputs]\n    updatedInputs.splice(index, 1)\n    setInputs(updatedInputs)\n  }\n\n  const handleInputTestText = (index, testIndex, event) => {\n    const { name, value } = event.target\n    const updatedInputs = [...inputs]\n    updatedInputs[index].test[testIndex][name] = value\n    setInputs(updatedInputs)\n  }\n  useEffect(() => {\n    if (inputs.length > 1) {\n      setremoveAndAddInput(true)\n    } else {\n      setremoveAndAddInput(false)\n    }\n  }, [handleRemoveInput, handleAddInput, handleInputChange])\n\n  const handleInputTestChange = (index, testIndex, event) => {\n    // console.log('asd', index, testIndex, event)\n    const { name, value } = event.target\n    const newInputs = [...inputs]\n    newInputs[index].test[testIndex][name] = value\n    setInputs(newInputs)\n  }\n  const handleRemoveTestInput = (e, index, testIndex) => {\n    e.preventDefault()\n    const updateData = [...inputs]\n    updateData[index].test.splice(testIndex, 1)\n    setInputs(updateData)\n  }\n  const handleAddTestInput = (e, index) => {\n    e.preventDefault()\n    if (inputs[index].test[inputs[index].test.length - 1].name) {\n      const updatedInputs = [...inputs]\n      updatedInputs[index].test.push({\n        name: '',\n        testInput: '',\n        files: [],\n      })\n      setInputs(updatedInputs)\n    } else {\n      toast.warning('Please Enter Previous test field before adding new')\n    }\n  }\n\n  const handleInputChangeScale = (index, scaleIndex, event) => {\n    const { name, value } = event.target\n    const newInputs = [...inputs]\n    newInputs[index].scale[scaleIndex][name] = value\n    setInputs(newInputs)\n  }\n\n  const handleRemoveScaleInput = (e, index, scaleIndex) => {\n    e.preventDefault()\n    const updateData = [...inputs]\n    updateData[index].scale.splice(scaleIndex, 1)\n    setInputs(updateData)\n  }\n\n  const handleAddScaleInput = (e, index) => {\n    e.preventDefault()\n    if (inputs[index].scale[inputs[index].scale.length - 1].name) {\n      const updatedInputs = [...inputs]\n      updatedInputs[index].scale.push({\n        name: '',\n        value: '',\n      })\n      setInputs(updatedInputs)\n    } else {\n      toast.warning('Please Enter Previous Scale field before adding new')\n    }\n  }\n\n  const handleInputChangeProcedure = (index, event) => {\n    const { name, value } = event.target\n    const updatedProcedure = [...procedure]\n    updatedProcedure[index][name] = value\n    setProcedure(updatedProcedure)\n  }\n\n  const handleRemoveInputProcedure = (index) => {\n    const updatedInputs = [...procedure]\n    updatedInputs.splice(index, 1)\n    setProcedure(updatedInputs)\n  }\n  const handleAddInputProcedure = () => {\n    const allInputsHaveProblem = procedure.every((input) => input.name !== '')\n    if (allInputsHaveProblem) {\n      setProcedure([\n        ...procedure,\n        { name: '', complications: '', doneBy: '', date: dayjs(currentDate) },\n      ])\n    } else {\n      toast.warning('Please Fill Details of previous Record before adding new!!', {\n        autoClose: 1500,\n      })\n    }\n  }\n\n  useEffect(() => {\n    if (inputs.length > 1) {\n      setremoveAndAddInput(true)\n    } else {\n      setremoveAndAddInput(false)\n    }\n    if (procedure.length > 1) {\n      setremoveAndAddInputProcedure(true)\n    } else {\n      setremoveAndAddInputProcedure(false)\n    }\n  }, [\n    handleRemoveInput,\n    handleAddInput,\n    handleInputChange,\n    handleAddInputProcedure,\n    handleInputChangeProcedure,\n  ])\n  useEffect(() => {\n    console.log('Inputs ', inputs)\n  })\n  return (\n    <>\n      {fileUploadingSpinner && (\n        <SpinnerOverlay loading={fileUploadingSpinner} message=\"Uploading Files\" />\n      )}\n      {loading && <SpinnerOverlay message=\"Adding Diagnosis\" />}\n      <div style={{ margin: '1rem auto 1rem 1rem' }}>\n        <div className=\"addPatientDataInnerDiv\">\n          <h4>Diagnosis: ({patientRecord?.department_id?.departmentName})</h4>\n        </div>\n        <form onSubmit={handleSubmit}>\n          <form className=\"mb-3\">\n            {inputs.map((input, index) => (\n              <div key={index} className=\"row mt-1 mb-2\">\n                <div className=\"col-md-2 col-12\">\n                  <label>\n                    <select\n                      className=\"form-control addPatientDataSelectDiv\"\n                      // style={{ width: '100%', appearance: 'auto', height: '38px' }}\n                      name=\"problem\"\n                      value={input.problem}\n                      onChange={(event) => handleInputChange(index, event)}\n                    >\n                      <option value=\"\">Chief complaint</option>\n                      {problems.map((problem, problemIndex) => (\n                        <option key={problemIndex} value={problem}>\n                          {problem}\n                        </option>\n                      ))}\n                    </select>\n                  </label>\n                  <label>\n                    <input\n                      className=\"form-control\"\n                      type=\"text\"\n                      placeholder=\"Enter sub problem\"\n                      name=\"subProblem\"\n                      onChange={(event) => handleInputChange(index, event)}\n                    ></input>\n                  </label>\n                </div>\n                <div className=\"col-md-4 col-12\">\n                  {input.test.map((testInput, testIndex) => (\n                    <div key={testInput} className=\"d-flex mb-1\">\n                      <div style={{ width: '40%' }}>\n                        <label>\n                          <select\n                            className=\"form-control addPatientDataSelectDiv\"\n                            name=\"name\"\n                            value={testInput.name}\n                            onChange={(event) => handleInputTestChange(index, testIndex, event)}\n                          >\n                            <option value=\"\">Select Test</option>\n                            {tests.map((test, testIndex) => (\n                              <option key={testIndex} value={test.name}>\n                                {test.name}\n                              </option>\n                            ))}\n                          </select>\n                        </label>\n                      </div>\n                      {testInput.name === '' ? (\n                        <div style={{ width: '40%', marginLeft: '3px' }}>\n                          <label>\n                            <input\n                              className=\"form-control addPatientDataInputDiv\"\n                              placeholder=\"Select a Test\"\n                              type=\"text\"\n                              disabled=\"true\"\n                            />\n                          </label>\n                        </div>\n                      ) : (\n                        <div style={{ width: '40%', marginLeft: '3px' }}>\n                          {tests.map((test) => {\n                            if (test.name === input.test[testIndex].name) {\n                              if (test.inputType === 'text') {\n                                return (\n                                  <label key={testIndex}>\n                                    <input\n                                      className=\"form-control\"\n                                      style={{ width: '100%' }}\n                                      placeholder=\"Enter test Value\"\n                                      type=\"text\"\n                                      name=\"testInput\"\n                                      value={input.test[testIndex].text} // Here is the issue\n                                      onChange={(event) =>\n                                        handleInputTestText(index, testIndex, event)\n                                      }\n                                    />\n                                  </label>\n                                )\n                              } else if (test.inputType === 'file') {\n                                return (\n                                  <label key={testIndex}>\n                                    <input\n                                      className=\"form-control\"\n                                      style={{ width: '100%' }}\n                                      type=\"file\"\n                                      multiple\n                                      name=\"files\"\n                                      accept=\"image/jpeg, image/png, application/pdf\"\n                                      onChange={(event) =>\n                                        handleFileInputChange(index, testIndex, event)\n                                      }\n                                    />\n                                  </label>\n                                )\n                              }\n                            }\n                            return null\n                          })}\n                        </div>\n                      )}\n                      <div style={{ width: '20%', marginLeft: '3px' }}>\n                        {testIndex !== input.test.length - 1 && (\n                          <button\n                            className=\"btn btn-outline-dark\"\n                            onClick={(e) => handleRemoveTestInput(e, index, testIndex)}\n                          >\n                            <CIcon icon={cilMinus} />\n                          </button>\n                        )}\n                        {testIndex === input.test.length - 1 && (\n                          <button\n                            className=\"btn btn-outline-success\"\n                            onClick={(e) => handleAddTestInput(e, index)}\n                          >\n                            <CIcon icon={cilPlus} />\n                          </button>\n                        )}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n                <div className=\"col-md-4 col-12 \">\n                  {input.scale.map((scaleInput, scaleIndex) => (\n                    <div key={scaleIndex} className=\"d-flex mb-1\">\n                      <div style={{ width: '40%' }}>\n                        <label>\n                          <select\n                            className=\"form-control addPatientDataSelectDiv\"\n                            name=\"name\"\n                            value={input.scale[scaleIndex].name}\n                            onChange={(event) => handleInputChangeScale(index, scaleIndex, event)}\n                          >\n                            <option value=\"\">Select Scale</option>\n                            {scales.map((scale, scaleIndex) => (\n                              <option key={scaleIndex} value={scale}>\n                                {scale}\n                              </option>\n                            ))}\n                          </select>\n                        </label>\n                      </div>\n                      <div style={{ width: '40%', marginLeft: '3px' }}>\n                        <label>\n                          <input\n                            className=\"form-control addPatientDataInputDiv\"\n                            // style={{ width: '100%', appearance: 'auto' }}\n                            placeholder=\"Enter Scale Value\"\n                            type=\"text\"\n                            name=\"value\"\n                            value={input.scale[scaleIndex].value}\n                            onChange={(event) => handleInputChangeScale(index, scaleIndex, event)}\n                          />\n                        </label>\n                      </div>\n                      <div style={{ width: '20%', marginLeft: '3px' }}>\n                        {scaleIndex !== input.scale.length - 1 && (\n                          <button\n                            className=\"btn btn-outline-dark\"\n                            onClick={(e) => handleRemoveScaleInput(e, index, scaleIndex)}\n                          >\n                            <CIcon icon={cilMinus} />\n                          </button>\n                        )}\n                        {scaleIndex === input.scale.length - 1 && (\n                          <button\n                            className=\"btn btn-outline-success\"\n                            onClick={(e) => handleAddScaleInput(e, index)}\n                          >\n                            <CIcon icon={cilPlus} />\n                          </button>\n                        )}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n\n                <div className=\"col-md-2 d-flex justify-content-end col-12\">\n                  {removeAndAddInput && (\n                    <button\n                      className=\"btn me-4 mt-1\"\n                      type=\"button\"\n                      onClick={() => handleRemoveInput(index)}\n                    >\n                      <CIcon icon={cilTrash} size=\"xl\" />\n                    </button>\n                  )}\n                </div>\n              </div>\n            ))}\n            <div className=\"d-flex justify-content-end\">\n              <button className=\"btn btn-primary me-4\" type=\"button\" onClick={handleAddInput}>\n                Add More\n              </button>\n            </div>\n          </form>\n          <div>\n            <div>\n              <input\n                type=\"checkbox\"\n                checked={addProcedureToggle}\n                onChange={() => setAddProcedureToggle(!addProcedureToggle)}\n              ></input>\n              <label> &nbsp;&nbsp;&nbsp;Add Procedure</label>\n            </div>\n            {addProcedureToggle ? (\n              <>\n                <form>\n                  {procedure.map((input, index) => (\n                    <div key={index}>\n                      <div>\n                        <div className=\"row\">\n                          <div className=\"col-md-2 col-sm-10 \">\n                            <label>\n                              <input\n                                onChange={(event) => handleInputChangeProcedure(index, event)}\n                                value={input.name}\n                                name=\"name\"\n                                className=\"form-control addPatientDataInputDiv\"\n                                placeholder=\"Procedure Name\"\n                                type=\"text\"\n                              />\n                            </label>\n                          </div>\n                          <div className=\"col-md-2 col-sm-10\">\n                            <label>\n                              <input\n                                onChange={(event) => handleInputChangeProcedure(index, event)}\n                                value={input.complications}\n                                name=\"complications\"\n                                className=\"form-control addPatientDataInputDiv\"\n                                placeholder=\"Complications\"\n                                type=\"text\"\n                              />\n                            </label>\n                          </div>\n                          <div className=\"col-md-2 col-sm-10\">\n                            <label>\n                              <input\n                                onChange={(event) => handleInputChangeProcedure(index, event)}\n                                value={input.doneBy}\n                                name=\"doneBy\"\n                                className=\"form-control addPatientDataInputDiv\"\n                                placeholder=\"Done By\"\n                                type=\"text\"\n                              />\n                            </label>\n                          </div>\n                          <div className=\"col-md-4 col-sm-10\">\n                            <div className=\"d-flex\">\n                              <div className=\"w-auto\">\n                                <LocalizationProvider dateAdapter={AdapterDayjs}>\n                                  <DemoContainer components={['DateTimePicker']}>\n                                    <DateTimePicker\n                                      label=\"To\"\n                                      value={input.date}\n                                      // onChange={handleEndDateChange}\n                                      inputFormat=\"YYYY-MM-DD\"\n                                      ampm={false}\n                                      ampmInClock={false}\n                                      views={['year', 'month', 'day']}\n                                      slotProps={{ textField: { size: 'small' } }}\n                                    />\n                                  </DemoContainer>\n                                </LocalizationProvider>\n                              </div>\n                            </div>\n                          </div>\n                          <div className=\"col-md-2 d-flex \">\n                            {removeAndAddInputProcedure && (\n                              <button\n                                className=\"btn me-4 mt-1\"\n                                type=\"button\"\n                                onClick={() => handleRemoveInputProcedure(index)}\n                              >\n                                <CIcon icon={cilTrash} size=\"xl\" />\n                              </button>\n                            )}\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                  <div className=\"d-flex justify-content-end\">\n                    <button\n                      className=\"btn btn-primary me-4\"\n                      type=\"button\"\n                      onClick={() => handleAddInputProcedure()}\n                    >\n                      Add More\n                    </button>\n                  </div>\n                </form>\n              </>\n            ) : (\n              ''\n            )}\n          </div>\n          <div>\n            <textarea\n              rows={4}\n              className=\"form-control col-12\"\n              placeholder=\"Notes (Optional)\"\n              name=\"desc\"\n              value={desc}\n              onChange={(e) => setDesc(e.target.value)}\n            ></textarea>\n          </div>\n\n          <div className=\"d-flex mt-2\">\n            <div className=\"w-auto\">\n              <LocalizationProvider dateAdapter={AdapterDayjs}>\n                <DemoContainer components={['DateTimePicker']}>\n                  <DateTimePicker\n                    label=\"Next Appointment Date\"\n                    value={startingDate}\n                    onChange={handleStartingDateChange}\n                  />\n                </DemoContainer>\n              </LocalizationProvider>\n            </div>\n          </div>\n          <div className=\"text-end\">\n            <button type=\"submit\" className=\"btn btn-primary mt-4\" style={{ width: '10rem' }}>\n              Submit\n            </button>\n            <button\n              type=\"submit\"\n              className=\"btn btn-danger mt-4 ms-2\"\n              style={{ width: '10rem' }}\n              onClick={() => handleClose()}\n            >\n              Close\n            </button>\n          </div>\n        </form>\n        <ToastContainer />\n      </div>\n    </>\n  )\n}\n\nexport default PatientAddNewRecord\n","import React, { useEffect, useState } from 'react'\nimport PropTypes from 'prop-types'\nimport PatientShowDetails from './PatientShowDetails'\nimport PatientAddNewRecord from './PatientAddNewRecord'\n\nconst PatientInfoData = ({ patientSearch, getSearchByPatient }) => {\n  // console.log('patientSearch', patientSearch)\n  // console.log('getSearchByPatient', getSearchByPatient)\n\n  const [isAddNewDiagnosis, setIsAddNewDiagnosis] = useState(false)\n  const [isDetails, setIsDetailed] = useState(false)\n  const [selectedPatientId, setSelectedPatientId] = useState('')\n  const [addDiagnosisPatientId, setAddDiagnosisPatientId] = useState('')\n\n  const handleToggleDetails = (patientId) => {\n    setSelectedPatientId((prevState) => (prevState === patientId ? '' : patientId))\n    setAddDiagnosisPatientId('')\n    // setIsAddNewDiagnosis(false)\n    setIsDetailed(true)\n  }\n\n  const handleAddDiagnosis = (patientId) => {\n    setAddDiagnosisPatientId(patientId)\n    setSelectedPatientId(patientId)\n    setIsAddNewDiagnosis(true)\n    setIsDetailed(false)\n  }\n\n  const [isSmallScreen, setIsSmallScreen] = useState(false)\n\n  useEffect(() => {\n    function handleResize() {\n      setIsSmallScreen(window.innerWidth <= 768) // Adjust the breakpoint as needed\n    }\n    handleResize()\n    window.addEventListener('resize', handleResize)\n    return () => {\n      window.removeEventListener('resize', handleResize)\n    }\n  }, [])\n\n  return (\n    <div>\n      {isSmallScreen ? (\n        <>\n          {patientSearch?.map((patient) => {\n            const { name, crn, phone, age, sex, diagnosis, _id, desc, nextApointmentDate } = patient\n            const isDetailsOpen = selectedPatientId === _id\n            const isAddDiagnosisOpen = addDiagnosisPatientId === _id\n            const inputDate = nextApointmentDate\n            const diagnosisProp = diagnosis\n            const date = new Date(inputDate)\n            const formattedDate = date\n              .toLocaleString('en-IN', {\n                year: 'numeric',\n                month: '2-digit',\n                day: '2-digit',\n                hour: '2-digit',\n                minute: '2-digit',\n                hour12: true,\n              })\n              .replace(/\\//g, '/')\n\n            return (\n              <div key={_id}>\n                <div style={{ marginTop: '2rem' }}>\n                  <div className=\"card\" style={{ width: '100%' }}>\n                    <div className=\"card-body overflow-auto \">\n                      <div className=\"row\" style={{ marginBottom: '1rem' }}>\n                        <div style={{ width: '40%' }}>\n                          <span>\n                            <span className=\"boldFont\">CR No :</span> {crn}\n                          </span>\n                          <br />\n                          <span>\n                            <span className=\"boldFont\">Age : </span> {age}\n                          </span>\n                          <br />\n                          <span>\n                            <span className=\"boldFont\">Sex. </span> {sex}\n                          </span>\n                        </div>\n                        <div style={{ width: '60%' }}>\n                          <span>\n                            <span className=\"boldFont\">Name : </span> {name}\n                          </span>\n                          <br />\n                          <span>\n                            <span className=\"boldFont\">Mob. No.</span> {phone}\n                          </span>\n                          <br />\n                          <span>\n                            <span className=\"boldFont\">Next Appointment Date.</span>{' '}\n                            {nextApointmentDate ? formattedDate : '-'}\n                          </span>\n                        </div>\n                      </div>\n\n                      <div className=\"d-flex justify-content-end\">\n                        <button\n                          type=\"button\"\n                          className=\"btn btn-success patientInfoButton\"\n                          onClick={() => handleToggleDetails(_id)}\n                          // style={{ fontSize: '15px', whiteSpace: 'none', padding: '5px 10px' }}\n                        >\n                          Show Diagnosis\n                        </button>\n                        <button\n                          type=\"button\"\n                          className=\"btn btn-warning\"\n                          style={{ marginLeft: '2rem' }}\n                          onClick={() => handleAddDiagnosis(_id)}\n                        >\n                          {diagnosis ? 'Add New Follow-Up' : 'Add New Diagnosis'}\n                        </button>\n                      </div>\n\n                      {isDetailsOpen && isDetails && (\n                        <div>\n                          <PatientShowDetails diagnosis={diagnosis} desc={desc} />\n                        </div>\n                      )}\n                      {isAddDiagnosisOpen && isAddNewDiagnosis && (\n                        <div>\n                          <PatientAddNewRecord\n                            _id={_id}\n                            getSearchByPatient={getSearchByPatient}\n                            setIsAddNewDiagnosis={setIsAddNewDiagnosis}\n                            setIsDetailed={setIsDetailed}\n                            diagnosisProp={diagnosisProp}\n                          />\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )\n          })}\n        </>\n      ) : (\n        <div className=\"mb-4\">\n          {patientSearch?.map((patient) => {\n            const { name, crn, phone, age, sex, diagnosis, _id, desc, nextApointmentDate } = patient\n            const isDetailsOpen = selectedPatientId === _id\n            const isAddDiagnosisOpen = addDiagnosisPatientId === _id\n            const inputDate = nextApointmentDate\n            const diagnosisProp = diagnosis\n            const date = new Date(inputDate)\n            const formattedDate = date\n              .toLocaleString('en-IN', {\n                year: 'numeric',\n                month: '2-digit',\n                day: '2-digit',\n                hour: '2-digit',\n                minute: '2-digit',\n                hour12: true,\n              })\n              .replace(/\\//g, '/')\n\n            return (\n              <div key={_id} className=\"row\">\n                <div style={{ marginTop: '2rem' }}>\n                  <div className=\"card\" style={{ width: '100%' }}>\n                    <div className=\"card-body overflow-auto \">\n                      <h5 className=\"card-title\"> CR No : {crn}</h5>\n                      <h6 className=\"card-subtitle mt-2\">\n                        <h5>Name : {name}</h5>\n                      </h6>\n                      <div style={{ display: 'flex', marginTop: '1rem' }}>\n                        {/* <p className=\"card-text\">CRN No. {crn}</p> */}\n                        <span style={{ display: 'flex' }}>\n                          <h6>Phone No. &nbsp;</h6>{' '}\n                          <h6 style={{ fontWeight: 'normal' }}>{phone}</h6>\n                        </span>\n                        <span style={{ display: 'flex', marginLeft: '2rem' }}>\n                          <h6>Age. &nbsp;</h6> <h6 style={{ fontWeight: 'normal' }}>{age}</h6>\n                        </span>\n                        <span style={{ display: 'flex', marginLeft: '2rem' }}>\n                          <h6> Sex. &nbsp;</h6> <h6 style={{ fontWeight: 'normal' }}>{sex}</h6>\n                        </span>\n                        <span style={{ display: 'flex', marginLeft: '2rem' }}>\n                          <h6>Next Appointment Date. &nbsp;</h6>{' '}\n                          <h6 style={{ fontWeight: 'normal' }}>\n                            {nextApointmentDate ? formattedDate : '-'}\n                          </h6>\n                        </span>\n                      </div>\n                      <div className=\"d-flex justify-content-end\">\n                        <button\n                          type=\"button\"\n                          className=\"btn btn-success\"\n                          onClick={() => handleToggleDetails(_id)}\n                          style={{ fontSize: '15px', whiteSpace: 'none', padding: '5px 10px' }}\n                        >\n                          Show Diagnosis\n                        </button>\n                        <button\n                          type=\"button\"\n                          className=\"btn btn-warning\"\n                          style={{ marginLeft: '2rem' }}\n                          onClick={() => handleAddDiagnosis(_id)}\n                        >\n                          {diagnosis ? 'Add New Follow-Up' : 'Add New Diagnosis'}\n                        </button>\n                      </div>\n\n                      {isDetailsOpen && isDetails && (\n                        <div>\n                          <PatientShowDetails diagnosis={diagnosis} desc={desc} />\n                        </div>\n                      )}\n                      {isAddDiagnosisOpen && isAddNewDiagnosis && (\n                        <div>\n                          <PatientAddNewRecord\n                            _id={_id}\n                            getSearchByPatient={getSearchByPatient}\n                            setIsAddNewDiagnosis={setIsAddNewDiagnosis}\n                            setIsDetailed={setIsDetailed}\n                            diagnosisProp={diagnosisProp}\n                          />\n                          <PatientShowDetails diagnosis={diagnosis} desc={desc} />\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )\n          })}\n        </div>\n      )}\n    </div>\n  )\n}\n\nPatientInfoData.propTypes = {\n  patientSearch: PropTypes.array.isRequired,\n  getSearchByPatient: PropTypes.func.isRequired,\n}\n\nexport default PatientInfoData\n","import * as React from 'react'\nimport CircularProgress from '@mui/material/CircularProgress'\nimport Box from '@mui/material/Box'\n\nconst AddPatientLoader = () => {\n  return (\n    <Box\n      style={{\n        width: '100%',\n        height: '100%',\n        lineHeight: '20vh',\n        textAlign: 'center',\n        marginTop: '10px',\n      }}\n    >\n      <CircularProgress />\n    </Box>\n  )\n}\n\nexport default AddPatientLoader\n","import axios from 'axios'\nimport React, { useEffect, useState } from 'react'\nimport { getFetch, postFetch, postFetchContent, postFetchData, postFetchFile } from 'src/api/Api'\nimport PatientInfoData from './PatientInfoData'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faXmark } from '@fortawesome/free-solid-svg-icons'\nimport { DemoContainer } from '@mui/x-date-pickers/internals/demo'\nimport { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider'\nimport { DateTimePicker } from '@mui/x-date-pickers/DateTimePicker'\nimport { ToastContainer, toast } from 'react-toastify'\nimport 'react-toastify/dist/ReactToastify.css'\nimport Loader from '../loader/Loader'\nimport AddPatientLoader from '../loader/AddPatientLoader'\nimport { useLocation } from 'react-router-dom'\nimport SpinnerOverlay from 'src/views/publicItems/ SpinnerOverlay'\nimport { DatePicker } from 'antd'\nimport dayjs from 'dayjs'\nimport PropTypes from 'prop-types'\nimport CIcon from '@coreui/icons-react'\nimport { cibAddthis, cilMinus, cilPlaylistAdd, cilPlus, cilTrash } from '@coreui/icons'\n\nconst AddNewPatient = ({ setData, setUpdatedSearch, getSearchByPatient, updatedSearch }) => {\n  const location = useLocation()\n  // console.log('location', Number(location?.state?.crn))\n  const currentDate = new Date()\n  // console.log('today date', currentDate)\n  let API_URL = process.env.REACT_APP_API_URL\n  // const API_URL = process.env.API_URL\n  let patientData = localStorage.getItem('patientRecord')\n  let patientRecord = JSON.parse(patientData)\n  const [updateState, setUpdateState] = useState(false)\n  const [loader, setLoader] = useState(false)\n  const [addPatientLoader, setaddPatientLoader] = useState(false)\n\n  const [startingDate, setStartingDate] = React.useState(null)\n\n  const [problems, setProblems] = useState([])\n  const [tests, setTests] = useState([])\n  const [scales, setScales] = useState([])\n  const [queryCRN, setQueryCRN] = useState('')\n  const randomCRN = Math.floor(Math.random() * (9999 - 1000 + 1)) + 1000\n  let [fileUploadingSpinner, setfileUploadingSpinner] = useState(false)\n  const [addProcedureToggle, setAddProcedureToggle] = useState(false)\n  const [desc, setDesc] = useState('')\n  const [formData, setFormData] = useState({\n    name: '',\n    age: '',\n    sex: 'male',\n    phone: '',\n    crn: `${randomCRN}`,\n    diagnosis: [],\n    desc: '',\n    doctor_id: patientRecord?._id,\n  })\n\n  const [inputs, setInputs] = useState([\n    {\n      problem: '',\n      subProblem: '',\n      test: [\n        {\n          name: '',\n          testInput: '',\n          files: [],\n        },\n      ],\n      scale: [\n        {\n          name: '',\n          value: '',\n        },\n      ],\n    },\n  ])\n  const [procedure, setProcedure] = useState([\n    {\n      name: '',\n      complications: '',\n      doneBy: '',\n      date: dayjs(currentDate),\n    },\n  ])\n\n  const handleStartingDateChange = (date) => {\n    setStartingDate(date)\n  }\n\n  useEffect(() => {\n    fetchProblems()\n  }, [])\n\n  const fetchProblems = async () => {\n    try {\n      const problemsResponse = await getFetch(\n        `${API_URL}/api/problem/${patientRecord?.department_id?._id}`,\n      )\n      const problemsData = problemsResponse?.data?.data[0]\n      if (problemsData) {\n        const problemFilter = problemsData.problemName\n          .filter((item) => item.type === 'problem')\n          .map((problem) => problem.name)\n        const scaleFilter = problemsData.problemName\n          .filter((item) => item.type === 'scale')\n          .map((scale) => scale.name)\n        const testFilter = problemsData.problemName\n          .filter((item) => item.type === 'test')\n          .map(({ name, inputType }) => ({ name: name, inputType }))\n        setTests(testFilter)\n        setScales(scaleFilter)\n        setProblems(problemFilter)\n      }\n    } catch (error) {\n      console.error('Error fetching problems:', error)\n    }\n  }\n\n  /////////////////////////////////////START OF HANDLE SUBMIT/////////////////////\n\n  const handleSubmit = async () => {\n    // console.log('updatedFormData', inputs)\n\n    // setSearch('')\n\n    // Check if required fields are filled\n    if (!formData.name || !formData.age || !formData.sex || !formData.phone || !formData.crn) {\n      return toast.warning('Please fill all Patient details')\n    }\n\n    if (inputs.length === 1 && inputs[0].problem === '') {\n      return toast.warning('Please select at least one Chief complaint')\n    }\n    // const filteredInputs = inputs.filter((data) => data.problem !== '')\n    const filteredInputs = inputs\n      .map((data) => ({\n        ...data,\n        test: data.test.filter((test) => test.name !== ''),\n        scale: data.scale.filter((scale) => scale.name !== ''),\n      }))\n      .filter((data) => data.problem !== '')\n    const filterProcedure = procedure.filter((data) => data.name !== '')\n\n    for (const data of filteredInputs) {\n      if (\n        data.test.length > 0 &&\n        data.test.some((test) => test.testInput === '' && test.files.length === 0)\n      ) {\n        toast.warning('Please provide input or upload file(s) for selected test(s)')\n        return\n      }\n\n      if (data.scale.length > 0 && data.scale.some((scale) => scale.value === '')) {\n        toast.warning('Please provide input for selected scale(s)')\n        return\n      }\n    }\n\n    // toast.warning('Uploading Files and Reports')\n    setfileUploadingSpinner(true)\n    try {\n      await Promise.all(\n        filteredInputs.map(async (data, index) => {\n          await Promise.all(\n            data.test.map(async (presentTest, testIndex) => {\n              if (presentTest.files) {\n                const files = presentTest.files\n                if (files.length > 0) {\n                  const formData = new FormData()\n                  files.forEach((file) => {\n                    // Check if the file type is allowed\n                    const allowedFileTypes = ['image/jpeg', 'image/png', 'application/pdf']\n                    if (allowedFileTypes.includes(file.type)) {\n                      formData.append('files', file) // Append each allowed file to the FormData\n                    } else {\n                      console.warn('File type not allowed:', file.type)\n                    }\n                  })\n                  if (formData.has('files')) {\n                    const response = await postFetchFile(\n                      `${API_URL}/api/user/uploadPatientReport`,\n                      formData,\n                    )\n                    if (response) {\n                      setfileUploadingSpinner(false)\n                      filteredInputs[index].test[testIndex].files = response.filesInfo\n                    }\n                  } else {\n                    setfileUploadingSpinner(false)\n                    console.warn('No valid files to upload')\n                  }\n                }\n              } else {\n                filteredInputs[index].test[testIndex].files = null\n                setfileUploadingSpinner(false)\n              }\n            }),\n          )\n        }),\n      )\n    } catch (error) {\n      setfileUploadingSpinner(false)\n      console.error('Error uploading files:', error)\n      return\n    }\n\n    const updatedFormData = {\n      ...formData,\n      diagnosis: [\n        {\n          diagnosData: filteredInputs,\n          procedure: filterProcedure,\n          date: Date(),\n          desc,\n        },\n      ],\n      nextApointmentDate: startingDate,\n    }\n    console.log('final input', updatedFormData)\n\n    try {\n      // console.log('pre', updatedFormData)\\\n      const doctorRecord = await localStorage.getItem('patientRecord')\n      const doctorId = JSON.parse(doctorRecord)?._id\n      // console.log('Guarav', JSON.parse(doctorRecord)?._id)\n      const data = await postFetchData(`${API_URL}/api/patient/create/${doctorId}`, updatedFormData)\n      if (data.success === true) {\n        toast.success('Patient Created Successfully', {\n          autoClose: 2000,\n        })\n        setfileUploadingSpinner(false)\n\n        setaddPatientLoader(true)\n        setData(false)\n\n        // toast.success('Patient Created Successfully')\n        setUpdateState(true)\n        setaddPatientLoader(false)\n        // setDiagnosis([])\n        setDesc('')\n        setStartingDate(null)\n        setInputs([\n          {\n            problem: '',\n            subProblem: '',\n            test: [\n              {\n                name: '',\n                testInput: '',\n                files: [],\n              },\n            ],\n            scale: [\n              {\n                name: '',\n                value: '',\n              },\n            ],\n          },\n        ])\n        setProcedure({\n          name: '',\n          complications: '',\n          doneBy: '',\n          date: dayjs(currentDate),\n        })\n        setFormData({\n          name: '',\n          age: '',\n          sex: 'male',\n          phone: '',\n          crn: `${randomCRN}`,\n          diagnosis: [],\n          desc: '',\n          doctor_id: patientRecord?._id,\n        })\n      }\n      if (data.message === 'phone Already Exists') {\n        toast.warning('phone Already Exists')\n        setfileUploadingSpinner(false)\n      }\n      if (data.message === 'Crn Already Exists') {\n        toast.warning('Crn Already Exists')\n        setfileUploadingSpinner(false)\n      }\n\n      setUpdatedSearch(data?.data?.crn)\n    } catch (error) {\n      toast.warning('Something went wrong')\n      setfileUploadingSpinner(false)\n      console.error('Error submitting data:', error)\n    }\n  }\n\n  /////////////////////////////////////// END OF HANDLE SUBMIT ////////////\n\n  let [removeAndAddInput, setremoveAndAddInput] = useState(false)\n  let [removeAndAddInputProcedure, setremoveAndAddInputProcedure] = useState(false)\n\n  const handleInputChange = (index, event) => {\n    const { name, value } = event.target\n    const updatedInputs = [...inputs]\n    updatedInputs[index][name] = value\n    setInputs(updatedInputs)\n  }\n\n  const handleInputChangeProcedure = (index, event) => {\n    const { name, value } = event.target\n    const updatedProcedure = [...procedure]\n    updatedProcedure[index][name] = value\n    setProcedure(updatedProcedure)\n  }\n  const handleInputTestText = (index, testIndex, event) => {\n    const { name, value } = event.target\n    const updatedInputs = [...inputs]\n    updatedInputs[index].test[testIndex][name] = value\n    console.log('guarav', updatedInputs)\n    // setInputs(updatedInputs)\n  }\n\n  const handleFileInputChange = (index, testindex, event) => {\n    const { name, files } = event.target\n    const allowedFileTypes = ['image/jpeg', 'image/png', 'application/pdf']\n    const maxFiles = 3 // Maximum number of files allowed\n\n    // Check if the number of selected files exceeds the limit\n    if (files.length > maxFiles) {\n      event.target.value = '' // Clear the file input\n      toast.warning('You can only upload up to 3 files', { autoClose: 1500 })\n      return\n    }\n\n    const updatedInputs = [...inputs]\n\n    // Convert FileList to array and filter out files that exceed the size limit or are not of allowed types\n    const filesArray = Array.from(files).filter((file) => {\n      if (file.size > 31457280) {\n        toast.warning('File size should be less than 30 MB', { autoClose: 1500 })\n        return false\n      }\n      if (!allowedFileTypes.includes(file.type)) {\n        toast.warning('Only images and PDFs are allowed', { autoClose: 1500 })\n        return false\n      }\n      return true\n    })\n\n    updatedInputs[index].test[testindex].files = filesArray // Store the array of files\n    setInputs(updatedInputs)\n  }\n\n  const handleAddInput = () => {\n    const allInputsHaveProblem = inputs.every((input) => input.problem !== '')\n    if (allInputsHaveProblem) {\n      setInputs([\n        ...inputs,\n        {\n          problem: '',\n          subProblem: '',\n          test: [\n            {\n              name: '',\n              testInput: '',\n              files: [],\n            },\n          ],\n          scale: [\n            {\n              name: '',\n              value: '',\n            },\n          ],\n        },\n      ])\n    } else {\n      toast.warning('Please Fill Details of previous Record before adding new!!', {\n        autoClose: 1500,\n      })\n    }\n  }\n\n  const handleAddInputProcedure = () => {\n    const allInputsHaveProblem = procedure.every((input) => input.name !== '')\n    if (allInputsHaveProblem) {\n      setProcedure([\n        ...procedure,\n        { name: '', complications: '', doneBy: '', date: dayjs(currentDate) },\n      ])\n    } else {\n      toast.warning('Please Fill Details of previous Record before adding new!!', {\n        autoClose: 1500,\n      })\n    }\n  }\n  const handleRemoveInput = (index) => {\n    const updatedInputs = [...inputs]\n    updatedInputs.splice(index, 1)\n    setInputs(updatedInputs)\n  }\n  const handleRemoveInputProcedure = (index) => {\n    const updatedInputs = [...procedure]\n    updatedInputs.splice(index, 1)\n    setProcedure(updatedInputs)\n  }\n\n  useEffect(() => {\n    if (inputs.length > 1) {\n      setremoveAndAddInput(true)\n    } else {\n      setremoveAndAddInput(false)\n    }\n    if (procedure.length > 1) {\n      setremoveAndAddInputProcedure(true)\n    } else {\n      setremoveAndAddInputProcedure(false)\n    }\n  }, [\n    handleRemoveInput,\n    handleAddInput,\n    handleInputChange,\n    handleAddInputProcedure,\n    handleAddInputProcedure,\n    handleInputChangeProcedure,\n  ])\n  useEffect(() => {\n    console.log('Updated inputs:', inputs, procedure)\n  }, [inputs])\n\n  const clearAllDataInputs = () => {\n    setInputs([\n      {\n        problem: '',\n        subProblem: '',\n        test: [\n          {\n            name: '',\n            testInput: '',\n            files: [],\n          },\n        ],\n        scale: [\n          {\n            name: '',\n            value: '',\n          },\n        ],\n      },\n    ])\n    setFormData({\n      name: '',\n      age: '',\n      sex: 'male',\n      phone: '',\n      crn: `${randomCRN}`,\n      diagnosis: [],\n      desc: '',\n      doctor_id: patientRecord?._id,\n    })\n  }\n\n  const handleInputTestChange = (index, testIndex, event) => {\n    const { name, value } = event.target\n    const newInputs = [...inputs]\n    newInputs[index].test[testIndex][name] = value\n    setInputs(newInputs)\n  }\n  const handleAddTestInput = (e, index) => {\n    e.preventDefault()\n    if (inputs[index].test[inputs[index].test.length - 1].name) {\n      const updatedInputs = [...inputs]\n      updatedInputs[index].test.push({\n        name: '',\n        testInput: '',\n        files: [],\n      })\n      setInputs(updatedInputs)\n    } else {\n      toast.warning('Please Enter Previous test field before adding new')\n    }\n  }\n\n  const handleAddScaleInput = (e, index) => {\n    e.preventDefault()\n    if (inputs[index].scale[inputs[index].scale.length - 1].name) {\n      const updatedInputs = [...inputs]\n      updatedInputs[index].scale.push({\n        name: '',\n        value: '',\n      })\n      setInputs(updatedInputs)\n    } else {\n      toast.warning('Please Enter Previous Scale field before adding new')\n    }\n  }\n\n  const handleInputChangeScale = (index, scaleIndex, event) => {\n    const { name, value } = event.target\n    const newInputs = [...inputs]\n    newInputs[index].scale[scaleIndex][name] = value\n    setInputs(newInputs)\n  }\n  const handleRemoveTestInput = (e, index, testIndex) => {\n    e.preventDefault()\n    const updateData = [...inputs]\n    updateData[index].test.splice(testIndex, 1)\n    setInputs(updateData)\n  }\n\n  const handleRemoveScaleInput = (e, index, scaleIndex) => {\n    e.preventDefault()\n    const updateData = [...inputs]\n    updateData[index].scale.splice(scaleIndex, 1)\n    setInputs(updateData)\n  }\n\n  return (\n    <>\n      <div>\n        {fileUploadingSpinner && <SpinnerOverlay loading={fileUploadingSpinner} />}\n        <div className=\"content-to-be-blurred\">\n          <div style={{ marginTop: '1rem' }}>\n            <div>\n              <hr />\n              <h4>Patient Details</h4>\n\n              <div>\n                <div className=\"row\">\n                  <div className=\"col-md-4\">\n                    <div>\n                      <label className=\"col-sm-4 mt-2 patientNamediv\">\n                        Name <span style={{ color: 'red' }}>*</span>\n                      </label>\n                      <div className=\"col-sm-8\">\n                        <input\n                          type=\"text\"\n                          className=\"form-control \"\n                          name=\"name\"\n                          value={formData.name}\n                          onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                        />\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"col-md-4\">\n                    <div>\n                      <label className=\"col-sm-4 mt-2 patientNamediv\">\n                        Age <span style={{ color: 'red' }}>*</span>\n                      </label>\n                      <div className=\"col-sm-8\">\n                        <input\n                          type=\"number\"\n                          className=\"form-control \"\n                          name=\"age\"\n                          value={formData.age}\n                          onChange={(e) => setFormData({ ...formData, age: e.target.value })}\n                        />\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"col-md-4\">\n                    <div>\n                      <label className=\"col-sm-4 mt-2 patientNamediv\">\n                        Sex <span style={{ color: 'red' }}>*</span>\n                      </label>\n                      <div className=\"col-sm-8\">\n                        <select\n                          className=\"form-control \"\n                          name=\"sex\"\n                          value={formData.sex}\n                          onChange={(e) => setFormData({ ...formData, sex: e.target.value })}\n                        >\n                          <option value=\"male\">Male</option>\n                          <option value=\"female\">Female</option>\n                          <option value=\"other\">Other</option>\n                        </select>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"row \">\n                  <div className=\"col-md-4 mt-2\">\n                    <div>\n                      <label className=\"col-lg-4 patientNamediv\">\n                        Contact <span style={{ color: 'red' }}>*</span>\n                      </label>\n                      <div className=\" col-lg-8 col-sm-8\">\n                        <input\n                          className=\"form-control \"\n                          type=\"text\"\n                          name=\"phone\"\n                          value={formData.phone}\n                          onChange={(e) => {\n                            if (/^\\d*$/.test(e.target.value) || e.target.value === '') {\n                              setFormData({ ...formData, phone: e.target.value })\n                            }\n                          }}\n                          required={true}\n                        />\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"col-md-4 mt-2\">\n                    <div>\n                      <label className=\"col-sm-4  patientNamediv\">\n                        CR No <span style={{ color: 'red' }}>*</span>\n                      </label>\n                      <div className=\"col-sm-8\">\n                        <input\n                          className=\"form-control \"\n                          type=\"test\"\n                          name=\"crn\"\n                          value={formData.crn}\n                          onChange={(e) => setFormData({ ...formData, crn: e.target.value })}\n                          required={true}\n                        />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <hr />\n              <div className=\"addPatientDataInnerDiv\">\n                <h4>Diagnosis: ({patientRecord?.department_id?.departmentName})</h4>\n              </div>\n              <div>\n                <form className=\"mb-3\">\n                  {inputs.map((input, index) => (\n                    <div key={index} className=\"row mt-1 mb-2\">\n                      <div className=\"col-md-2 col-12\">\n                        <label>\n                          <select\n                            className=\"form-control addPatientDataSelectDiv mb-1\"\n                            // style={{ width: '100%', appearance: 'auto', height: '38px' }}\n                            name=\"problem\"\n                            value={input.problem}\n                            onChange={(event) => handleInputChange(index, event)}\n                          >\n                            <option value=\"\">Chief complaint</option>\n                            {problems.map((problem, problemIndex) => (\n                              <option key={problemIndex} value={problem}>\n                                {problem}\n                              </option>\n                            ))}\n                          </select>\n                        </label>\n                        <label>\n                          <input\n                            className=\"form-control\"\n                            type=\"text\"\n                            placeholder=\"Enter sub problem\"\n                            name=\"subProblem\"\n                            onChange={(event) => handleInputChange(index, event)}\n                          ></input>\n                        </label>\n                      </div>\n                      <div className=\"col-md-4 col-12\">\n                        {input.test.map((testInput, testIndex) => (\n                          <div key={testInput} className=\"d-flex mb-1\">\n                            <div style={{ width: '40%' }}>\n                              <label>\n                                <select\n                                  className=\"form-control addPatientDataSelectDiv\"\n                                  name=\"name\"\n                                  value={testInput.name}\n                                  onChange={(event) =>\n                                    handleInputTestChange(index, testIndex, event)\n                                  }\n                                >\n                                  <option value=\"\">Select Test</option>\n                                  {tests.map((test, testIndex) => (\n                                    <option key={testIndex} value={test.name}>\n                                      {test.name}\n                                    </option>\n                                  ))}\n                                </select>\n                              </label>\n                            </div>\n                            {testInput.name === '' ? (\n                              <div style={{ width: '40%', marginLeft: '4px' }}>\n                                <label>\n                                  <input\n                                    className=\"form-control addPatientDataInputDiv\"\n                                    placeholder=\"Select a Test\"\n                                    type=\"text\"\n                                    disabled=\"true\"\n                                  />\n                                </label>\n                              </div>\n                            ) : (\n                              <div style={{ width: '40%', marginLeft: '4px' }}>\n                                {tests.map((test) => {\n                                  if (test.name === input.test[testIndex].name) {\n                                    if (test.inputType === 'text') {\n                                      return (\n                                        <label key={testIndex}>\n                                          <input\n                                            className=\"form-control\"\n                                            style={{ width: '100%' }}\n                                            placeholder=\"Enter test Value\"\n                                            type=\"text\"\n                                            name=\"testInput\"\n                                            value={input.test[testIndex].text} // Here is the issue\n                                            onChange={(event) =>\n                                              handleInputTestText(index, testIndex, event)\n                                            }\n                                          />\n                                        </label>\n                                      )\n                                    } else if (test.inputType === 'file') {\n                                      return (\n                                        <label key={testIndex}>\n                                          <input\n                                            className=\"form-control\"\n                                            style={{ width: '100%' }}\n                                            type=\"file\"\n                                            multiple\n                                            name=\"files\"\n                                            accept=\"image/jpeg, image/png, application/pdf\"\n                                            onChange={(event) =>\n                                              handleFileInputChange(index, testIndex, event)\n                                            }\n                                          />\n                                        </label>\n                                      )\n                                    }\n                                  }\n                                  return null\n                                })}\n                              </div>\n                            )}\n                            <div style={{ width: '20%', marginLeft: '3px' }}>\n                              {testIndex !== input.test.length - 1 && (\n                                <button\n                                  className=\"btn btn-outline-dark\"\n                                  onClick={(e) => handleRemoveTestInput(e, index, testIndex)}\n                                >\n                                  <CIcon icon={cilMinus} />\n                                </button>\n                              )}\n                              {testIndex === input.test.length - 1 && (\n                                <button\n                                  className=\"btn btn-outline-success\"\n                                  onClick={(e) => handleAddTestInput(e, index)}\n                                >\n                                  <CIcon icon={cilPlus} />\n                                </button>\n                              )}\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                      <div className=\"col-md-4 col-12 \">\n                        {input.scale.map((scaleInput, scaleIndex) => (\n                          <div key={scaleIndex} className=\"d-flex mb-1\">\n                            <div style={{ width: '40%' }}>\n                              <label>\n                                <select\n                                  className=\"form-control addPatientDataSelectDiv\"\n                                  name=\"name\"\n                                  value={input.scale[scaleIndex].name}\n                                  onChange={(event) =>\n                                    handleInputChangeScale(index, scaleIndex, event)\n                                  }\n                                >\n                                  <option value=\"\">Select Scale</option>\n                                  {scales.map((scale, scaleIndex) => (\n                                    <option key={scaleIndex} value={scale}>\n                                      {scale}\n                                    </option>\n                                  ))}\n                                </select>\n                              </label>\n                            </div>\n                            <div style={{ width: '40%', marginLeft: '3px' }}>\n                              <label>\n                                <input\n                                  className=\"form-control addPatientDataInputDiv\"\n                                  // style={{ width: '100%', appearance: 'auto' }}\n                                  placeholder=\"Enter Scale Value\"\n                                  type=\"text\"\n                                  name=\"value\"\n                                  value={input.scale[scaleIndex].value}\n                                  onChange={(event) =>\n                                    handleInputChangeScale(index, scaleIndex, event)\n                                  }\n                                />\n                              </label>\n                            </div>\n                            <div style={{ width: '20%', marginLeft: '3px' }}>\n                              {scaleIndex !== input.scale.length - 1 && (\n                                <button\n                                  className=\"btn btn-outline-dark\"\n                                  onClick={(e) => handleRemoveScaleInput(e, index, scaleIndex)}\n                                >\n                                  <CIcon icon={cilMinus} />\n                                </button>\n                              )}\n                              {scaleIndex === input.scale.length - 1 && (\n                                <button\n                                  className=\"btn btn-outline-success\"\n                                  onClick={(e) => handleAddScaleInput(e, index)}\n                                >\n                                  <CIcon icon={cilPlus} />\n                                </button>\n                              )}\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n\n                      <div className=\"col-md-2 d-flex justify-content-end col-12\">\n                        {removeAndAddInput && (\n                          <button\n                            className=\"btn me-4 mt-1\"\n                            type=\"button\"\n                            onClick={() => handleRemoveInput(index)}\n                          >\n                            <CIcon icon={cilTrash} size=\"xl\" />\n                          </button>\n                        )}\n                      </div>\n                    </div>\n                  ))}\n                  <div className=\"d-flex justify-content-end\">\n                    <button\n                      className=\"btn btn-outline-primary me-4\"\n                      type=\"button\"\n                      onClick={handleAddInput}\n                    >\n                      Add More\n                    </button>\n                  </div>\n                </form>\n              </div>\n              <div>\n                <div>\n                  <input\n                    type=\"checkbox\"\n                    checked={addProcedureToggle}\n                    onChange={() => setAddProcedureToggle(!addProcedureToggle)}\n                  ></input>\n                  <label> &nbsp;&nbsp;&nbsp;Add Procedure</label>\n                </div>\n                {addProcedureToggle ? (\n                  <>\n                    <form>\n                      {procedure.map((input, index) => (\n                        <div key={index}>\n                          <div>\n                            <div className=\"row\">\n                              <div className=\"col-md-2 col-sm-10 \">\n                                <label>\n                                  <input\n                                    onChange={(event) => handleInputChangeProcedure(index, event)}\n                                    value={input.name}\n                                    name=\"name\"\n                                    className=\"form-control addPatientDataInputDiv\"\n                                    placeholder=\"Procedure Name\"\n                                    type=\"text\"\n                                  />\n                                </label>\n                              </div>\n                              <div className=\"col-md-2 col-sm-10\">\n                                <label>\n                                  <input\n                                    onChange={(event) => handleInputChangeProcedure(index, event)}\n                                    value={input.complications}\n                                    name=\"complications\"\n                                    className=\"form-control addPatientDataInputDiv\"\n                                    placeholder=\"Complications\"\n                                    type=\"text\"\n                                  />\n                                </label>\n                              </div>\n                              <div className=\"col-md-2 col-sm-10\">\n                                <label>\n                                  <input\n                                    onChange={(event) => handleInputChangeProcedure(index, event)}\n                                    value={input.doneBy}\n                                    name=\"doneBy\"\n                                    className=\"form-control addPatientDataInputDiv\"\n                                    placeholder=\"Done By\"\n                                    type=\"text\"\n                                  />\n                                </label>\n                              </div>\n                              <div className=\"col-md-4 col-sm-10\">\n                                <div className=\"d-flex\">\n                                  <div className=\"w-auto\">\n                                    <LocalizationProvider dateAdapter={AdapterDayjs}>\n                                      <DemoContainer components={['DateTimePicker']}>\n                                        <DateTimePicker\n                                          label=\"To\"\n                                          value={input.date}\n                                          // onChange={handleEndDateChange}\n                                          inputFormat=\"YYYY-MM-DD\"\n                                          ampm={false}\n                                          ampmInClock={false}\n                                          views={['year', 'month', 'day']}\n                                          slotProps={{ textField: { size: 'small' } }}\n                                        />\n                                      </DemoContainer>\n                                    </LocalizationProvider>\n                                  </div>\n                                </div>\n                              </div>\n                              <div className=\"col-md-2 d-flex \">\n                                {removeAndAddInputProcedure && (\n                                  <button\n                                    className=\"btn me-4 mt-1\"\n                                    type=\"button\"\n                                    onClick={() => handleRemoveInputProcedure(index)}\n                                  >\n                                    <CIcon icon={cilTrash} size=\"xl\" />\n                                  </button>\n                                )}\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      ))}\n                      <div className=\"d-flex justify-content-end\">\n                        <button\n                          className=\"btn btn-outline-primary me-4\"\n                          type=\"button\"\n                          onClick={handleAddInputProcedure}\n                        >\n                          Add More\n                        </button>\n                      </div>\n                    </form>\n                  </>\n                ) : (\n                  ''\n                )}\n              </div>\n              <div>\n                <textarea\n                  rows={4}\n                  className=\"form-control col-12\"\n                  placeholder=\"Notes (Optional)\"\n                  name=\"desc\"\n                  value={desc}\n                  onChange={(e) => setDesc(e.target.value)}\n                ></textarea>\n              </div>\n            </div>\n            <div>\n              <div className=\"d-flex mt-2\">\n                <div className=\"w-auto\">\n                  <LocalizationProvider dateAdapter={AdapterDayjs}>\n                    <DemoContainer components={['DateTimePicker']}>\n                      <DateTimePicker\n                        label=\"Next Appointment Date\"\n                        value={startingDate}\n                        onChange={handleStartingDateChange}\n                        // ampm={false}\n                      />\n                    </DemoContainer>\n                  </LocalizationProvider>\n                </div>\n              </div>\n            </div>\n            <div className=\"text-end m-4\">\n              <button className=\"btn btn-info mt-3 mx-2 w-auto\" onClick={handleSubmit}>\n                Submit\n              </button>\n              <button\n                className=\"btn btn-info mt-3 w-auto\"\n                onClick={() => {\n                  setData(false)\n                  clearAllDataInputs()\n                }}\n              >\n                Close\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <ToastContainer />\n    </>\n  )\n}\n\nAddNewPatient.propTypes = {\n  setData: PropTypes.array.isRequired,\n  setUpdatedSearch: PropTypes.array.isRequired,\n  getSearchByPatient: PropTypes.array.isRequired,\n  updatedSearch: PropTypes.array.isRequired,\n}\n\nexport default AddNewPatient\n","import axios from 'axios'\nimport React, { useEffect, useState } from 'react'\nimport { getFetch, postFetch, postFetchContent, postFetchData, postFetchFile } from 'src/api/Api'\nimport PatientInfoData from './PatientInfoData'\n\nimport { ToastContainer, toast } from 'react-toastify'\nimport 'react-toastify/dist/ReactToastify.css'\nimport Loader from '../loader/Loader'\nimport AddPatientLoader from '../loader/AddPatientLoader'\nimport { useLocation } from 'react-router-dom'\n\nimport AddNewPatient from './AddNewPatient'\n\nconst PatientPage = () => {\n  const location = useLocation()\n  // console.log('location', Number(location?.state?.crn))\n  let API_URL = process.env.REACT_APP_API_URL\n  // const API_URL = process.env.API_URL\n  let patientData = localStorage.getItem('patientRecord')\n  let patientRecord = JSON.parse(patientData)\n  const [updateState, setUpdateState] = useState(false)\n  const [loader, setLoader] = useState(false)\n  const [addPatientLoader, setaddPatientLoader] = useState(false)\n  const [data, setData] = useState(false)\n  const [search, setSearch] = useState('')\n  const [patientSearch, setPatientSearch] = useState([])\n  const [queryCRN, setQueryCRN] = useState('')\n  const [updatedSearch, setUpdatedSearch] = useState('')\n  useEffect(() => {\n    setSearch('')\n\n    const queryParams = new URLSearchParams(location.search)\n    const searchParamValue = queryParams.get('crn')\n    if (searchParamValue) {\n      setQueryCRN(searchParamValue)\n    }\n  }, [])\n\n  useEffect(() => {\n    if (queryCRN !== '') {\n      getSearchByPatient()\n    }\n  }, [queryCRN])\n\n  const clearSearch = () => {\n    try {\n      setSearch('')\n      setPatientSearch([])\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  const getSearchByPatient = async (searchCRN) => {\n    try {\n      let searchData = search || location?.state?.crn || queryCRN || searchCRN\n      console.log('This is search ', searchData)\n\n      if (searchData?.length === 0) {\n        return\n      }\n      setLoader(true)\n      const data = await getFetch(`${API_URL}/api/patient/${searchData}`)\n\n      setPatientSearch(data?.data?.data)\n      setTimeout(() => {\n        setLoader(false)\n      }, 3000)\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  const handleKeyPress = (event) => {\n    if (event.key === 'Enter') {\n      event.preventDefault()\n      getSearchByPatient()\n    }\n  }\n  // console.log('updatedSearch', updatedSearch)\n  useEffect(() => {\n    if (updatedSearch !== '') {\n      console.log('This is running', updatedSearch)\n      setSearch(updatedSearch)\n      getSearchByPatient(updatedSearch)\n    }\n  }, [updatedSearch])\n\n  useEffect(() => {\n    if (updateState === true) {\n      getSearchByPatient()\n    }\n  }, [updateState])\n\n  // let [dateAndTime, setDateAndTime] = useState(new Date())\n  useEffect(() => {\n    if (location?.state?.crn) {\n      setSearch(location?.state?.crn)\n      getSearchByPatient()\n    }\n  }, [location])\n\n  return (\n    <>\n      <div>\n        {!data && !addPatientLoader ? (\n          <div>\n            <p style={{ fontWeight: 'bolder' }}>Search Patient</p>\n            <div className=\"search-container\">\n              <div className=\"search-input\">\n                <input\n                  style={{ paddingLeft: '5px' }}\n                  className=\"form-control\"\n                  placeholder=\"CR no. or Phone no.\"\n                  type=\"text\"\n                  name=\"search\"\n                  value={search}\n                  onKeyPress={handleKeyPress}\n                  onChange={(e) => setSearch(e.target.value)}\n                />\n                <button\n                  className=\"btn btn-primary searchButton\"\n                  type=\"button\"\n                  onClick={getSearchByPatient}\n                >\n                  Search\n                </button>\n                {search?.length ? (\n                  <button\n                    className=\"btn btn-danger text-light clearButton\"\n                    type=\"button\"\n                    onClick={clearSearch}\n                  >\n                    Clear\n                  </button>\n                ) : null}\n              </div>\n              <div className=\"add-patient-btn\">\n                <button\n                  type=\"button\"\n                  onClick={() => {\n                    clearSearch()\n                    setData(true)\n                  }}\n                  className=\"btn btn-outline-dark\"\n                >\n                  Add a Patient\n                </button>\n              </div>\n            </div>\n          </div>\n        ) : (\n          ''\n        )}\n\n        {patientSearch?.length && !data && !addPatientLoader ? (\n          <PatientInfoData\n            patientSearch={patientSearch}\n            setData={setData}\n            getSearchByPatient={getSearchByPatient}\n          />\n        ) : (\n          <div>\n            {data ? (\n              <AddNewPatient\n                setData={setData}\n                setUpdatedSearch={setUpdatedSearch}\n                updatedSearch={updatedSearch}\n                getSearchByPatient={getSearchByPatient}\n              />\n            ) : (\n              <div>\n                {!addPatientLoader ? (\n                  <div className=\"loaderDivInPatientPage\">{loader ? <Loader /> : 'No Data'}</div>\n                ) : (\n                  ''\n                )}\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n      {addPatientLoader ? <AddPatientLoader /> : ''}\n      <ToastContainer />\n    </>\n  )\n}\n\nexport default PatientPage\n","export var cilMinus = [\"512 512\", \"<rect width='368' height='32' x='72' y='240' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/>\"];\n","export var cilPlus = [\"512 512\", \"<polygon fill='var(--ci-primary-color, currentColor)' points='440 240 272 240 272 72 240 72 240 240 72 240 72 272 240 272 240 440 272 440 272 272 440 272 440 240' class='ci-primary'/>\"];\n","export var cilTrash = [\"512 512\", \"<path fill='var(--ci-primary-color, currentColor)' d='M96,472a23.82,23.82,0,0,0,23.579,24H392.421A23.82,23.82,0,0,0,416,472V152H96Zm32-288H384V464H128Z' class='ci-primary'/><rect width='32' height='200' x='168' y='216' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='200' x='240' y='216' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='200' x='312' y='216' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M328,88V40c0-13.458-9.488-24-21.6-24H205.6C193.488,16,184,26.542,184,40V88H64v32H448V88ZM216,48h80V88H216Z' class='ci-primary'/>\"];\n"],"names":["_ref","diagnosis","reversedDiagnosis","setReversedDiagnosis","useState","loading","setLoading","requestedFileLoading","setRequestedFileLoading","useEffect","Array","isArray","reversed","reverse","hoveredFile","setHoveredFile","_jsxs","style","maxHeight","marginTop","children","map","elem","index","_elem$diagnosData","formattedDate","Date","date","toLocaleDateString","year","month","day","hour","minute","hour12","replace","margin","_jsx","className","overflowX","overflow","width","border","fontFamily","borderRadius","scope","background","diagnosData","element","innerIndex","problem","subProblem","scale","test","console","log","_Fragment","SpinnerOverlay","message","fontWeight","testData","testIndex","_testData$files","name","paddingRight","padding","testInput","display","files","file","fileIndex","value","fileName","alignItems","marginRight","onMouseEnter","editedName","parts","split","length","slice","join","editNameFun","onMouseLeave","onClick","async","filename","response","axios","get","concat","process","responseType","blob","Blob","data","type","headers","blobUrl","URL","createObjectURL","window","open","error","showReportHandler","title","CIcon","icon","cilDataTransferDown","scaleData","scaleIndex","wordWrap","procedure","colSpan","procedureData","procedureIndex","complications","doneBy","desc","ToastContainer","_patientRecord$depart2","_id","getSearchByPatient","setIsAddNewDiagnosis","setIsDetailed","diagnosisProp","API_URL","patientData","localStorage","getItem","patientRecord","JSON","parse","currentDate","inputs","setInputs","setProcedure","dayjs","lastDiagnosis","setLastDiagnosis","addProcedureToggle","setAddProcedureToggle","removeAndAddInputProcedure","setremoveAndAddInputProcedure","lastRecords","startingDate","setStartingDate","React","patientById","setPatientById","setDesc","formData","setFormData","setDiagnosis","fileUploadingSpinner","setfileUploadingSpinner","problems","setProblems","tests","setTests","scales","setScales","fetchProblems","_patientRecord$depart","_problemsResponse$dat","problemsResponse","getFetch","department_id","problemsData","problemFilter","problemName","filter","item","scaleFilter","testFilter","_ref2","inputType","prevFormData","getPatientById","removeAndAddInput","setremoveAndAddInput","handleInputChange","event","target","updatedInputs","handleAddInput","every","input","toast","warning","autoClose","handleRemoveInput","splice","handleInputChangeScale","newInputs","handleInputChangeProcedure","updatedProcedure","handleAddInputProcedure","departmentName","onSubmit","e","preventDefault","filteredInputs","filterProcedure","some","Promise","all","presentTest","FormData","forEach","includes","append","warn","has","postFetchFile","filesInfo","updatedFormData","nextApointmentDate","putFetchData","success","onChange","problemIndex","placeholder","handleInputTestChange","marginLeft","disabled","text","handleInputTestText","multiple","accept","handleFileInputChange","testindex","allowedFileTypes","filesArray","from","size","handleRemoveTestInput","updateData","cilMinus","handleAddTestInput","push","cilPlus","scaleInput","handleRemoveScaleInput","handleAddScaleInput","cilTrash","checked","LocalizationProvider","dateAdapter","AdapterDayjs","DemoContainer","components","DateTimePicker","label","inputFormat","ampm","ampmInClock","views","slotProps","textField","handleRemoveInputProcedure","rows","patientSearch","isAddNewDiagnosis","isDetails","selectedPatientId","setSelectedPatientId","addDiagnosisPatientId","setAddDiagnosisPatientId","handleToggleDetails","patientId","prevState","handleAddDiagnosis","isSmallScreen","setIsSmallScreen","handleResize","innerWidth","addEventListener","removeEventListener","patient","crn","phone","age","sex","isDetailsOpen","isAddDiagnosisOpen","toLocaleString","marginBottom","PatientShowDetails","PatientAddNewRecord","fontSize","whiteSpace","AddPatientLoader","Box","height","lineHeight","textAlign","CircularProgress","setData","setUpdatedSearch","updatedSearch","useLocation","updateState","setUpdateState","loader","setLoader","addPatientLoader","setaddPatientLoader","queryCRN","setQueryCRN","randomCRN","Math","floor","random","doctor_id","color","required","_JSON$parse","_data$data","doctorRecord","doctorId","postFetchData","PatientPage","location","search","setSearch","setPatientSearch","searchParamValue","URLSearchParams","clearSearch","_location$state","searchData","state","searchCRN","setTimeout","_location$state2","_location$state3","paddingLeft","onKeyPress","key","AddNewPatient","Loader","PatientInfoData"],"sourceRoot":""}