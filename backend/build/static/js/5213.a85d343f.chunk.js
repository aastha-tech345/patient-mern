"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[5213],{83181:(e,s,a)=>{a.r(s),a.d(s,{default:()=>p});var n=a(65043),l=a(93946),t=a(6145),i=a(3550),r=a(85961),o=a(19128),c=a(63043),d=a(73216),m=a(91036),u=(a(92342),a(84086)),h=a(70579);const p=()=>{const e=(0,d.Zp)(),s="http://18.204.141.1:8090",[a,p]=(0,n.useState)([]),[x,g]=n.useState({name:"",email:"",password:"",department_id:""}),[v,j]=(0,n.useState)(!1),f=e=>{const{name:s,value:a}=e.target;g({...x,[s]:a})};return(0,n.useEffect)((()=>{(async()=>{try{const e=await(0,c.J4)("".concat(s,"/api/department/"));console.log("res",e.data.data),p(e.data.data)}catch(e){console.log("error")}})()}),[]),(0,h.jsxs)("div",{className:"bg-light min-vh-100 d-flex flex-row align-items-center",children:[v?(0,h.jsx)(u.A,{message:"Loading..."}):"",(0,h.jsx)(l.T5,{children:(0,h.jsx)(l.sK,{className:"justify-content-center",children:(0,h.jsx)(l.UF,{md:9,lg:7,xl:6,children:(0,h.jsx)(l.E$,{className:"mx-4",children:(0,h.jsx)(l.W6,{className:"p-4",children:(0,h.jsxs)(l.qI,{children:[(0,h.jsx)("h1",{children:"Register"}),(0,h.jsx)("p",{className:"text-medium-emphasis",children:"Create your account"}),(0,h.jsxs)(l.BG,{className:"mb-3",children:[(0,h.jsx)(l.sk,{children:(0,h.jsx)(t.A,{icon:i.o})}),(0,h.jsx)(l.OG,{placeholder:"Full Name",autoComplete:"username",name:"name",value:x.name,onChange:f})]}),(0,h.jsxs)(l.BG,{className:"mb-3",children:[(0,h.jsx)(l.sk,{children:"@"}),(0,h.jsx)(l.OG,{placeholder:"Email",autoComplete:"email",name:"email",value:x.email,onChange:f})]}),(0,h.jsxs)(l.BG,{className:"mb-3",children:[(0,h.jsx)(l.sk,{children:(0,h.jsx)(t.A,{icon:r.q})}),(0,h.jsx)(l.OG,{type:"password",placeholder:"Password",autoComplete:"new-password",name:"password",value:x.password,onChange:f})]}),(0,h.jsxs)(l.BG,{className:"mb-3",children:[(0,h.jsx)(l.sk,{children:(0,h.jsx)(o.nwe,{})}),(0,h.jsxs)("select",{className:"form-select",name:"department_id",value:x.department_id,onChange:f,children:[(0,h.jsx)("option",{value:"",children:"Select Department"}),null===a||void 0===a?void 0:a.map((e=>(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.departmentName})})))]})]}),(0,h.jsx)("div",{className:"d-grid",children:(0,h.jsx)(l.Q_,{color:"success",onClick:async a=>{try{var n,l,t,i;if(x.name.length<4)return void m.oR.warning("Please enter a name!!");if(x.email.length<8)return void m.oR.warning("Please enter a valid email!!");if(x.password.length<4)return void m.oR.warning("Password length should be atleast 4 digits!!");if(0===x.department_id.length)return void m.oR.warning("Please select a Department!!");j(!0),a.preventDefault(),console.log("data",x);const d=await(0,c.Hl)("".concat(s,"/api/user/create"),x);var r,o;if(console.log("user creation",null===d||void 0===d||null===(n=d.response)||void 0===n||null===(l=n.data)||void 0===l?void 0:l.success),!1===(null===d||void 0===d||null===(t=d.response)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.success))return j(!1),m.oR.warning(null===d||void 0===d||null===(r=d.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.message);!0===d.success?(m.oR.success("Doctor Created Successfully"),setTimeout((()=>{j(!1),e("/")}),2e3)):(j(!1),m.oR.warning("Something went wrong"))}catch(d){j(!1),console.log(d)}},children:"Create Account"})}),(0,h.jsx)("div",{children:(0,h.jsxs)("p",{style:{display:"flex",marginTop:"1rem"},children:["To Loggin Click! \xa0",(0,h.jsx)("p",{style:{cursor:"pointer",color:"blue"},onClick:()=>{e("/")},children:"Signin"})]})})]})})})})})}),(0,h.jsx)(m.N9,{})]})}},84086:(e,s,a)=>{a.d(s,{A:()=>i});a(65043);var n=a(76475),l=a(70579);const t=e=>({position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(255, 255, 255, 0.7)",display:e?"flex":"none",justifyContent:"center",alignItems:"center",zIndex:9999}),i=e=>{const s=e.message;return(0,l.jsx)("div",{style:t(e),children:(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,l.jsx)(n.A,{loading:e,color:"#36D7B7"}),s?(0,l.jsx)("p",{style:{margin:"auto"},children:s}):""]})})}}}]);
//# sourceMappingURL=5213.a85d343f.chunk.js.map