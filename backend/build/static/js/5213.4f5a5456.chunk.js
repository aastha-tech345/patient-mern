"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[5213],{63043:(e,a,t)=>{t.d(a,{De:()=>o,E8:()=>r,Hl:()=>l,J4:()=>n});var s=t(77154);const n=async e=>{try{const a=localStorage.getItem("token");return await(0,s.A)({method:"get",url:"".concat(e),headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"}})}catch(a){return console.log(a),a}},o=async(e,a)=>{try{return(await s.A.post(e,a,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(t){throw console.error("Error in postFetchContent:",t),t}},r=async(e,a)=>{try{const t=localStorage.getItem("token"),n=await(0,s.A)({method:"put",url:"".concat(e),headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},data:a});if(n)return n}catch(n){var t;return 401===(null===n||void 0===n||null===(t=n.response)||void 0===t?void 0:t.status)?401:n.response}},l=async(e,a)=>{try{const t=localStorage.getItem("token"),n=await(0,s.A)({method:"post",url:"".concat(e),headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},data:a});if(n)return null===n||void 0===n?void 0:n.data}catch(n){var t;return 401===(null===n||void 0===n||null===(t=n.response)||void 0===t?void 0:t.status)?401:n}}},83181:(e,a,t)=>{t.r(a),t.d(a,{default:()=>h});var s=t(65043),n=t(93946),o=t(6145),r=t(3550),l=t(85961),c=t(19128),i=t(63043),d=t(73216),u=t(91036),m=(t(92342),t(70579));const h=()=>{const e=(0,d.Zp)(),a="http://18.204.141.1:8090",[t,h]=(0,s.useState)([]),[p,v]=s.useState({name:"",email:"",password:"",department_id:""}),x=e=>{const{name:a,value:t}=e.target;v({...p,[a]:t})};return(0,s.useEffect)((()=>{(async()=>{try{const e=await(0,i.J4)("".concat(a,"/api/department/"));console.log("res",e.data.data),h(e.data.data)}catch(e){console.log("error")}})()}),[]),(0,m.jsxs)("div",{className:"bg-light min-vh-100 d-flex flex-row align-items-center",children:[(0,m.jsx)(n.T5,{children:(0,m.jsx)(n.sK,{className:"justify-content-center",children:(0,m.jsx)(n.UF,{md:9,lg:7,xl:6,children:(0,m.jsx)(n.E$,{className:"mx-4",children:(0,m.jsx)(n.W6,{className:"p-4",children:(0,m.jsxs)(n.qI,{children:[(0,m.jsx)("h1",{children:"Register"}),(0,m.jsx)("p",{className:"text-medium-emphasis",children:"Create your account"}),(0,m.jsxs)(n.BG,{className:"mb-3",children:[(0,m.jsx)(n.sk,{children:(0,m.jsx)(o.A,{icon:r.o})}),(0,m.jsx)(n.OG,{placeholder:"Username",autoComplete:"username",name:"name",value:p.name,onChange:x})]}),(0,m.jsxs)(n.BG,{className:"mb-3",children:[(0,m.jsx)(n.sk,{children:"@"}),(0,m.jsx)(n.OG,{placeholder:"Email",autoComplete:"email",name:"email",value:p.email,onChange:x})]}),(0,m.jsxs)(n.BG,{className:"mb-3",children:[(0,m.jsx)(n.sk,{children:(0,m.jsx)(o.A,{icon:l.q})}),(0,m.jsx)(n.OG,{type:"password",placeholder:"Password",autoComplete:"new-password",name:"password",value:p.password,onChange:x})]}),(0,m.jsxs)(n.BG,{className:"mb-3",children:[(0,m.jsx)(n.sk,{children:(0,m.jsx)(c.nwe,{})}),(0,m.jsxs)("select",{className:"form-select",name:"department_id",value:p.department_id,onChange:x,children:[(0,m.jsx)("option",{value:"",children:"Select Department"}),null===t||void 0===t?void 0:t.map((e=>(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("option",{value:null===e||void 0===e?void 0:e._id,children:null===e||void 0===e?void 0:e.departmentName})})))]})]}),(0,m.jsx)("div",{className:"d-grid",children:(0,m.jsx)(n.Q_,{color:"success",onClick:async t=>{try{var s,n,o,r;t.preventDefault(),console.log("data",p);const d=await(0,i.Hl)("".concat(a,"/api/user/create"),p);var l,c;if(console.log("user creation",null===d||void 0===d||null===(s=d.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.success),!1===(null===d||void 0===d||null===(o=d.response)||void 0===o||null===(r=o.data)||void 0===r?void 0:r.success))return u.oR.warning(null===d||void 0===d||null===(l=d.response)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message);!0===d.success?(u.oR.success("Doctor Created Successfully"),setTimeout((()=>{e("/")}),2e3)):u.oR.warning("Something went wrong")}catch(d){console.log(d)}},children:"Create Account"})})]})})})})})}),(0,m.jsx)(u.N9,{})]})}}}]);
//# sourceMappingURL=5213.4f5a5456.chunk.js.map