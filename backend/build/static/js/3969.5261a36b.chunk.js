"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[3969],{63043:(e,t,n)=>{n.d(t,{De:()=>a,E8:()=>r,Hl:()=>l,J4:()=>o});var s=n(77154);const o=async e=>{try{const t=localStorage.getItem("token");return await(0,s.A)({method:"get",url:"".concat(e),headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}})}catch(t){return console.log(t),t}},a=async(e,t)=>{try{return(await s.A.post(e,t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(n){throw console.error("Error in postFetchContent:",n),n}},r=async(e,t)=>{try{const n=localStorage.getItem("token"),o=await(0,s.A)({method:"put",url:"".concat(e),headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},data:t});if(o)return o}catch(o){var n;return 401===(null===o||void 0===o||null===(n=o.response)||void 0===n?void 0:n.status)?401:o.response}},l=async(e,t)=>{try{const n=localStorage.getItem("token"),o=await(0,s.A)({method:"post",url:"".concat(e),headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},data:t});if(o)return null===o||void 0===o?void 0:o.data}catch(o){var n;return 401===(null===o||void 0===o||null===(n=o.response)||void 0===n?void 0:n.status)?401:o}}},24721:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var s=n(65043),o=n(73216),a=n(93946),r=n(6145),l=n(3550),c=n(85961),i=n(63043),d=n(91036),u=(n(92342),n(84086)),h=n(70579);const p=()=>{let e="http://18.204.141.1:8090";"".concat(e,"/register");const t=(0,o.Zp)(),[n,p]=(0,s.useState)({email:"",password:""}),[m,g]=(0,s.useState)(!1),x=e=>{const{name:t,value:s}=e.target;p({...n,[t]:s})};return(0,h.jsxs)("div",{className:"bg-light min-vh-100 d-flex flex-row align-items-center",children:[m?(0,h.jsx)(u.A,{message:"Logging.."}):"",(0,h.jsx)(a.T5,{children:(0,h.jsx)(a.sK,{className:"justify-content-center",children:(0,h.jsx)(a.UF,{md:5,children:(0,h.jsx)(a.x$,{children:(0,h.jsx)(a.E$,{className:"p-4",children:(0,h.jsx)(a.W6,{children:(0,h.jsxs)(a.qI,{children:[(0,h.jsx)("h2",{children:"Login"}),(0,h.jsx)("p",{className:"text-medium-emphasis",children:"Sign In to your account"}),(0,h.jsxs)(a.BG,{className:"mb-3",children:[(0,h.jsx)(a.sk,{children:(0,h.jsx)(r.A,{icon:l.o})}),(0,h.jsx)(a.OG,{placeholder:"Email",autoComplete:"email",name:"email",value:n.email,onChange:x})]}),(0,h.jsxs)(a.BG,{className:"mb-4",children:[(0,h.jsx)(a.sk,{children:(0,h.jsx)(r.A,{icon:c.q})}),(0,h.jsx)(a.OG,{type:"password",placeholder:"Password",autoComplete:"current-password",name:"password",value:n.password,onChange:x})]}),(0,h.jsx)(a.sK,{children:(0,h.jsx)(a.UF,{xs:12,style:{textAlign:"center"},children:(0,h.jsx)(a.Q_,{color:"primary",className:"px-5",onClick:async t=>{try{var s,o;g(!0),t.preventDefault();const a=await(0,i.Hl)("".concat(e,"/api/user/login"),n);console.log("data",a),1==a.success&&(d.oR.success("Login successfully"),localStorage.setItem("token",a.token),localStorage.setItem("patientRecord",JSON.stringify(null===a||void 0===a?void 0:a.user)),setTimeout((()=>{window.location.reload(),g(!1)}),1e3)),!1===(null===a||void 0===a||null===(s=a.response)||void 0===s||null===(o=s.data)||void 0===o?void 0:o.success)&&(g(!1),d.oR.warning("Invalid Credentials"))}catch(a){g(!1),d.oR.warning("Something went wrong"),console.log(a)}},children:"Login"})})}),(0,h.jsx)(a.sK,{children:(0,h.jsxs)("p",{style:{display:"flex",marginTop:"1rem"},children:["For register Click! \xa0",(0,h.jsx)("p",{style:{cursor:"pointer",color:"blue"},onClick:()=>{t("/register")},children:"Signup"})]})})]})})})})})})}),(0,h.jsx)(d.N9,{})]})}},84086:(e,t,n)=>{n.d(t,{A:()=>r});n(65043);var s=n(76475),o=n(70579);const a=e=>({position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(255, 255, 255, 0.7)",display:e?"flex":"none",justifyContent:"center",alignItems:"center",zIndex:9999}),r=e=>{const t=e.message;return(0,o.jsx)("div",{style:a(e),children:(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,o.jsx)(s.A,{loading:e,color:"#36D7B7"}),t?(0,o.jsx)("p",{style:{margin:"auto"},children:t}):""]})})}}}]);
//# sourceMappingURL=3969.5261a36b.chunk.js.map